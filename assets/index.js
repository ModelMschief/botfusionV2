import{a as e,r as t,u as s,j as r,b as a,S as l,M as o,c as i,L as n,d as c,A as d,m as x,X as m,H as p,C as u,U as h,e as b,f as v,K as g,F as j,Z as f,E as y,g as N,h as w,i as k,k as S,l as C,n as z,o as B,p as _,q as T,T as I,I as P,V as E,P as A,s as U,t as F,v as L,w as D,B as R,x as q,y as O,z as M,R as Y,D as W,G as H,J as V,N as $,O as K,Q as G,W as J,Y as Q,_ as X,$ as Z,a0 as ee,a1 as te,a2 as se,a3 as re,a4 as ae}from"./vendor.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const le=e.create({baseURL:"http://127.0.0.1:8080",headers:{"Content-Type":"application/json"}});le.interceptors.request.use(e=>{const t=localStorage.getItem("jwtToken");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e}),le.interceptors.response.use(e=>e,e=>{if(e.response){const{status:t}=e.response;401===t&&(localStorage.removeItem("jwtToken"),window.location.hash.includes("/login")||(window.location.hash="#/login"))}return Promise.reject(e)});const oe=t.createContext(void 0);function ie({children:e}){const[l,o]=t.useState(null),[i,n]=t.useState(!1),c=s(),d=t.useCallback(()=>{o(null),localStorage.removeItem("jwtToken"),c("/login")},[c]),x=t.useCallback(async()=>{const e=localStorage.getItem("jwtToken");if(e)try{const t=r(e);if(1e3*t.exp<Date.now())return void d();o({id:t.sub,isPremium:!1})}catch(t){d()}},[d]);t.useEffect(()=>{x()},[x]);return a.jsx(oe.Provider,{value:{user:l,login:async(e,t)=>{try{const s=await le.post("/login",{email:e,password:t});if(s.data.token)return localStorage.setItem("jwtToken",s.data.token),await x(),!0}catch(s){}return!1},signupInit:async(e,t,s)=>{try{return await le.post("/signup",{email:e,password:t,telegram_id:s}),!0}catch(r){throw r}},verifyOtp:async(e,t)=>{try{const s=await le.post("/verify-otp",{email:e,otp:t});if(s.data.token)return localStorage.setItem("jwtToken",s.data.token),await x(),!0}catch(s){}return!1},logout:d,checkSession:x,isGlobalFireActive:i,setGlobalFireActive:n},children:e})}const ne=()=>{const e=t.useContext(oe);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};function ce(){const[e,s]=t.useState("dark");t.useEffect(()=>{const e=localStorage.getItem("theme");if(e)s(e),"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");else{const e=document.documentElement.classList.contains("dark");s(e?"dark":"light")}},[]);return a.jsx("button",{onClick:()=>{const t=document.documentElement;"dark"===e?(t.classList.remove("dark"),s("light"),localStorage.setItem("theme","light")):(t.classList.add("dark"),s("dark"),localStorage.setItem("theme","dark"))},className:"btn btn-ghost","aria-label":"Toggle Theme",children:"dark"===e?a.jsx(l,{size:20}):a.jsx(o,{size:20})})}const de=""+new URL("../apple-touch-icon.png",import.meta.url).href;function xe(){const{user:e,logout:s}=ne(),[r,o]=t.useState(!1),f=i().pathname,y=t.useRef(null);if(t.useEffect(()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&o(!1)};return r&&(document.addEventListener("mousedown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",e),document.body.style.overflow=""}},[r]),t.useEffect(()=>{o(!1)},[f]),"/login"===f||"/forgot-password"===f||"/reset-password"===f)return null;const N=[{href:"/dashboard",label:"Dashboard",icon:a.jsx(v,{size:20})},{href:"/autoup",label:"AutoUp",icon:a.jsx(g,{size:20})},{href:"/premium",label:"Premium",icon:a.jsx(j,{size:20})}];return a.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 border-b border-[var(--border-color)] bg-[var(--bg-app)]/80 backdrop-blur-md",children:[a.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[a.jsxs(n,{to:"/",className:"flex items-center gap-2 font-bold text-xl text-[var(--primary-color)]",children:[a.jsx("img",{src:de,alt:"BotFusion",width:32,height:32,className:"rounded-md"}),a.jsx("span",{children:"BotFusion"})]}),a.jsx("nav",{className:"hidden md:flex items-center gap-6",children:e&&N.map(e=>a.jsxs(n,{to:e.href,className:"flex items-center gap-2 text-sm font-medium transition-colors hover:text-[var(--primary-color)] "+(f===e.href?"text-[var(--primary-color)]":"text-[var(--text-secondary)]"),children:[e.icon,e.label]},e.href))}),a.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[a.jsx(ce,{}),e?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm bg-[var(--bg-surface)] border border-[var(--border-color)] px-3 py-1.5 rounded-full",children:[a.jsx("span",{className:"font-semibold",children:e.email}),e.isPremium&&a.jsx("span",{title:"Premium User",className:"flex items-center text-lg",children:"ðŸ”¥"})]}),a.jsx("button",{onClick:s,className:"text-sm text-[var(--text-muted)] hover:text-[var(--destructive)]",children:"Logout"})]}):a.jsx(n,{to:"/login",className:"btn btn-primary text-sm px-4 py-2 font-bold shadow-[0_0_15px_rgba(220,38,38,0.3)] hover:shadow-[0_0_25px_rgba(220,38,38,0.5)] transition-all",children:"Login or Sign Up"})]}),a.jsx("button",{className:"md:hidden p-2 text-[var(--text-primary)] hover:bg-[var(--bg-surface)] rounded-lg transition-colors",onClick:()=>o(!0),"aria-label":"Open menu",children:a.jsx(c,{size:24})})]}),a.jsx(d,{children:r&&a.jsxs(a.Fragment,{children:[a.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-40 bg-black/60 backdrop-blur-sm md:hidden",onClick:()=>o(!1)}),a.jsxs(x.div,{ref:y,initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed top-0 right-0 bottom-0 z-50 w-[70%] max-w-xs bg-[var(--bg-surface)] border-l border-[var(--border-color)] shadow-2xl md:hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[var(--border-color)]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:de,alt:"Menu",width:28,height:28,className:"rounded-md"}),a.jsx("span",{className:"font-bold text-lg",children:"Menu"})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-[var(--bg-app)] rounded-lg transition-colors","aria-label":"Close menu",children:a.jsx(m,{size:20})})]}),a.jsx("nav",{className:"flex-1 overflow-y-auto",children:a.jsxs("ul",{className:"py-2",children:[a.jsx("li",{children:a.jsxs(n,{to:"/",onClick:()=>o(!1),className:"flex items-center gap-3 px-4 py-3 border-b border-[var(--border-color)]/50 transition-colors "+("/"===f?"bg-[var(--primary-color)]/10 text-[var(--primary-color)]":"text-[var(--text-primary)] hover:bg-[var(--bg-app)]"),children:[a.jsx("span",{className:"/"===f?"text-[var(--primary-color)]":"text-[var(--text-muted)]",children:a.jsx(p,{size:20})}),a.jsx("span",{className:"font-medium",children:"Home"})]})}),N.map(e=>a.jsx("li",{children:a.jsxs(n,{to:e.href,onClick:()=>o(!1),className:"flex items-center gap-3 px-4 py-3 border-b border-[var(--border-color)]/50 transition-colors "+(f===e.href?"bg-[var(--primary-color)]/10 text-[var(--primary-color)]":"text-[var(--text-primary)] hover:bg-[var(--bg-app)]"),children:[a.jsx("span",{className:f===e.href?"text-[var(--primary-color)]":"text-[var(--text-muted)]",children:e.icon}),a.jsx("span",{className:"font-medium",children:e.label})]})},e.href)),e&&"/dashboard"===f&&a.jsx("li",{children:a.jsxs("button",{onClick:()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("openStatsModal")),o(!1)},className:"w-full flex items-center gap-3 px-4 py-3 border-b border-[var(--border-color)]/50 text-blue-400 hover:bg-blue-500/10 transition-colors text-left",children:[a.jsx(u,{size:20}),a.jsx("span",{className:"font-medium",children:"Stats & History"})]})}),!e&&a.jsx("li",{children:a.jsxs(n,{to:"/login",onClick:()=>o(!1),className:"flex items-center gap-3 px-4 py-3 border-b border-[var(--border-color)]/50 text-[var(--primary-color)] hover:bg-[var(--primary-color)]/10 transition-colors",children:[a.jsx(h,{size:20}),a.jsx("span",{className:"font-medium",children:"Login or Sign Up"})]})})]})}),a.jsxs("div",{className:"border-t border-[var(--border-color)] p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[var(--text-muted)]",children:[a.jsx(l,{size:18}),a.jsx("span",{className:"text-sm",children:"Theme"})]}),a.jsx(ce,{})]}),e&&a.jsxs("button",{onClick:()=>{s(),o(!1)},className:"w-full flex items-center justify-center gap-2 py-3 text-sm font-medium text-[var(--text-muted)] hover:text-[var(--destructive)] hover:bg-red-500/10 rounded-lg transition-colors border border-[var(--border-color)]",children:[a.jsx(b,{size:18}),"Logout"]})]})]})]})})]})}const me=()=>{const[e,s]=t.useState([]);return t.useEffect(()=>{const e=Array.from({length:20}).map((e,t)=>({id:t,x:100*Math.random(),y:100*Math.random(),size:4*Math.random()+1,duration:20*Math.random()+10}));s(e)},[]),a.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:e.map(e=>a.jsx(x.div,{className:"absolute bg-[var(--primary-color)] rounded-full opacity-20",style:{left:`${e.x}%`,top:`${e.y}%`,width:e.size,height:e.size},animate:{y:[0,-100,0],x:[0,50,0],opacity:[.2,.5,.2]},transition:{duration:e.duration,repeat:1/0,ease:"linear"}},e.id))})};function pe(){const e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return a.jsxs("div",{className:"min-h-screen bg-[var(--bg-app)] text-[var(--text-primary)] font-sans overflow-x-hidden",children:[a.jsxs("section",{className:"relative pt-32 pb-24 md:pt-48 md:pb-32 overflow-hidden",children:[a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-[var(--primary-color)]/5 rounded-full blur-[120px] pointer-events-none"}),a.jsx(me,{}),a.jsx(x.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,y:[0,-20,0]},transition:{opacity:{duration:1.5},scale:{duration:1.5},y:{duration:6,repeat:1/0,ease:"easeInOut"}},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 opacity-30 pointer-events-none mix-blend-screen",children:a.jsx("img",{src:de,alt:"Background Logo",width:400,height:400,className:"blur-[80px]"})}),a.jsxs("div",{className:"container relative z-10 text-center px-4 mx-auto max-w-5xl",children:[a.jsxs(x.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[var(--primary-color)]/10 text-[var(--primary-color)] text-xs font-bold uppercase tracking-wider mb-6 border border-[var(--primary-color)]/20 backdrop-blur-sm shadow-[0_0_15px_rgba(220,38,38,0.2)]",children:[a.jsx(f,{size:12,fill:"currentColor"})," Enterprise Telegram Tools"]}),a.jsxs(x.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.1},className:"text-5xl md:text-7xl font-bold tracking-tight mb-6 leading-[1.1] drop-shadow-2xl",children:["Unitify Your Bots ",a.jsx("br",{className:"hidden md:block"}),a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-br from-[var(--primary-color)] via-orange-500 to-yellow-500 animate-gradient-x",children:"Telegram Bot Armies"})]}),a.jsx(x.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-lg md:text-xl text-[var(--text-muted)] max-w-2xl mx-auto mb-10 leading-relaxed font-light drop-shadow-md",children:"Centralize management, sync user bases automatically, and broadcast to millions. Engineered for technical bot owners who need scale without bans."}),a.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[a.jsx(n,{to:"/login",className:"btn btn-primary h-12 px-8 text-base font-bold shadow-[0_0_30px_rgba(220,38,38,0.4)] hover:shadow-[0_0_50px_rgba(220,38,38,0.6)] hover:scale-105 transition-all",children:"Get Started"}),a.jsxs("a",{href:"https://modelmschief.github.io/BotFusionDoc/",target:"_blank",rel:"noopener noreferrer",className:"btn bg-white/5 border border-white/10 hover:bg-white/10 hover:border-[var(--primary-color)] hover:text-[var(--primary-color)] h-12 px-8 text-base backdrop-blur-md transition-all",children:["Documentation ",a.jsx(y,{size:16,className:"ml-2"})]})]})]})]}),a.jsx("section",{className:"border-y border-[var(--border-color)] bg-[var(--bg-surface)] py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"flex flex-wrap justify-center gap-8 md:gap-16 opacity-70",children:[{icon:N,label:"AES-256 Secured"},{icon:w,label:"Rate-Limit Aware"},{icon:k,label:"99.9% Uptime"},{icon:S,label:"Multi-Bot Architecture"}].map((e,t)=>a.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[a.jsx(e.icon,{size:20,className:"text-[var(--text-muted)]"}),a.jsx("span",{children:e.label})]},t))})})}),a.jsx("section",{id:"features",className:"py-24 relative",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs(x.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-4",children:"Infrastructure Grade Features"}),a.jsx("p",{className:"text-[var(--text-muted)] max-w-xl mx-auto",children:"Built for power users who demand control and reliability."})]}),a.jsxs(x.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[minmax(280px,auto)]",children:[a.jsxs(x.div,{variants:e,className:"md:col-span-2 card p-8 group hover:border-[var(--primary-color)]/30 transition-colors",children:[a.jsx("div",{className:"w-12 h-12 bg-[var(--bg-app)] border border-[var(--border-color)] rounded-lg flex items-center justify-center mb-6 text-[var(--primary-color)] group-hover:scale-110 transition-transform",children:a.jsx(S,{size:24})}),a.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Centralized Management Hub"}),a.jsx("p",{className:"text-[var(--text-muted)] leading-relaxed text-lg",children:"Stop managing bots via scattered Python scripts. Connect all your tokens to one unified dashboard. View aggregate user counts, plan status, and health metrics in a single pane of glass."})]}),a.jsxs(x.div,{variants:e,className:"card p-8 group hover:border-[var(--primary-color)]/30 transition-colors",children:[a.jsx("div",{className:"w-12 h-12 bg-[var(--bg-app)] border border-[var(--border-color)] rounded-lg flex items-center justify-center mb-6 text-[var(--primary-color)] group-hover:scale-110 transition-transform",children:a.jsx(f,{size:24})}),a.jsx("h3",{className:"text-xl font-bold mb-3",children:"Offline Broadcasting"}),a.jsx("p",{className:"text-[var(--text-muted)] leading-relaxed",children:"Bot crashed? Server down? We broadcast directly via Telegram API, bypassing your local bot instance entirely."})]}),a.jsxs(x.div,{variants:e,className:"card p-8 group hover:border-[var(--primary-color)]/30 transition-colors",children:[a.jsx("div",{className:"w-12 h-12 bg-[var(--bg-app)] border border-[var(--border-color)] rounded-lg flex items-center justify-center mb-6 text-[var(--primary-color)] group-hover:scale-110 transition-transform",children:a.jsx(w,{size:24})}),a.jsx("h3",{className:"text-xl font-bold mb-3",children:"Live Status Streams"}),a.jsx("p",{className:"text-[var(--text-muted)] leading-relaxed",children:"Real-time WebSockets feed delivery status. Watch Sent, Failed, and Blocked counts update as they happen."})]}),a.jsx(x.div,{variants:e,className:"md:col-span-2 card p-8 group hover:border-[var(--primary-color)]/30 transition-colors",children:a.jsx("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"w-12 h-12 bg-[var(--bg-app)] border border-[var(--border-color)] rounded-lg flex items-center justify-center mb-6 text-[var(--primary-color)] group-hover:scale-110 transition-transform",children:a.jsx(v,{size:24})}),a.jsx("h3",{className:"text-2xl font-bold mb-3",children:"AutoUp User Sync Protocol"}),a.jsxs("p",{className:"text-[var(--text-muted)] leading-relaxed text-lg mb-4",children:["Use our API endpoint to automatically push new users from your bot code to our database. Forget manual CSV exports. As users ",a.jsx("code",{className:"bg-[var(--bg-app)] px-1 py-0.5 rounded text-sm font-mono border border-[var(--border-color)]",children:"/start"})," your bot, they are instantly broadcast-ready."]}),a.jsx("span",{className:"font-mono text-xs p-2 rounded bg-[var(--primary-color)]/10 text-[var(--primary-color)] border border-[var(--primary-color)]/20",children:"POST /autoup"})]})})})]})]})}),a.jsx("section",{className:"py-24 bg-[var(--bg-surface)] border-y border-[var(--border-color)]",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Technical Workflow"}),a.jsx("p",{className:"text-[var(--text-muted)]",children:"From setup to delivery in four steps."})]}),a.jsxs("div",{className:"relative grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsx("div",{className:"hidden md:block absolute top-[24px] left-[10%] right-[10%] h-[2px] bg-[var(--border-color)] z-0"}),[{step:"01",title:"Authenticate",desc:"Secure login via Telegram OTP. We verify identity to prevent abuse."},{step:"02",title:"Connect Bots",desc:"Add Bot Tokens. We validate ownership via Telegram's getMe method."},{step:"03",title:"Ingest Users",desc:"Upload legacy files or integrate AutoUp for realtime sync."},{step:"04",title:"Broadcast",desc:"Compose content, select bot subset, and fire. We handle queues."}].map((e,t)=>a.jsxs(x.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.1*t},viewport:{once:!0},className:"relative z-10 flex flex-col items-center text-center group",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-[var(--bg-app)] border border-[var(--border-color)] flex items-center justify-center font-bold font-mono text-lg mb-6 group-hover:border-[var(--primary-color)] group-hover:text-[var(--primary-color)] transition-colors shadow-lg",children:e.step}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:e.title}),a.jsx("p",{className:"text-sm text-[var(--text-muted)] leading-relaxed px-4",children:e.desc})]},t))]})]})}),a.jsx("section",{id:"safety",className:"py-24 overflow-hidden",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs(x.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[a.jsxs("h2",{className:"text-3xl md:text-5xl font-bold mb-6",children:["Rate-Limit Safe.",a.jsx("br",{}),"Flood Control Built-in."]}),a.jsx("p",{className:"text-[var(--text-muted)] text-lg mb-8",children:"Telegram enforces strict limits (~30 messages/sec). Naive loops lead to 429 errors and bot bans. We handle the complexity for you."}),a.jsx("ul",{className:"space-y-4",children:["Intelligent exponential backoff on 429s.","Parallel worker threads (configurable).","Automatic pruning of blocked/deleted users."].map((e,t)=>a.jsxs("li",{className:"flex items-center gap-3 text-[var(--text-secondary)]",children:[a.jsx(v,{size:20,className:"text-green-500 shrink-0"}),e]},t))})]}),a.jsxs(x.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"bg-[#0d0d0d] border border-[var(--border-color)] rounded-xl p-6 font-mono text-sm relative shadow-2xl",children:[a.jsxs("div",{className:"flex gap-2 mb-4 opacity-50",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),a.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-[var(--text-muted)]",children:"> Initializing broadcast worker..."}),a.jsxs("div",{className:"text-[var(--text-primary)]",children:["> ",a.jsx("span",{className:"text-[var(--primary-color)]",children:"Target:"})," 45,200 users across 12 bots"]}),a.jsx("div",{className:"text-[var(--text-muted)]",children:"> Batch 1 sent. (Latency: 12ms)"}),a.jsx("div",{className:"text-[var(--text-muted)]",children:"> Batch 2 sent. (Latency: 14ms)"}),a.jsx("div",{className:"text-yellow-500",children:"> Rate Limit Hit (429). Sleeping 3s..."}),a.jsx("div",{className:"text-green-500 font-bold",children:"> Resumed. 99.8% Delivery Rate."})]}),a.jsx("div",{className:"absolute -inset-[1px] bg-gradient-to-r from-transparent via-[var(--primary-color)]/20 to-transparent opacity-20 pointer-events-none rounded-xl"})]})]})})}),a.jsx("footer",{className:"bg-[var(--bg-surface)] border-t border-[var(--border-color)] pt-20 pb-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-16",children:[a.jsxs("div",{className:"col-span-1 md:col-span-1",children:[a.jsx(n,{to:"/",className:"font-bold text-xl flex items-center gap-2 mb-4 text-[var(--primary-color)]",children:"BotFusion"}),a.jsx("p",{className:"text-[var(--text-muted)] text-sm leading-relaxed",children:"The professional standard for Telegram bot automation. Built for developers, by developers."})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-bold mb-4 uppercase text-xs tracking-wider text-[var(--text-primary)]",children:"Platform"}),a.jsxs("ul",{className:"space-y-3 text-sm text-[var(--text-muted)]",children:[a.jsx("li",{children:a.jsx(n,{to:"/dashboard",className:"hover:text-[var(--primary-color)] transition-colors",children:"Dashboard"})}),a.jsx("li",{children:a.jsx("a",{href:"https://modelmschief.github.io/BotFusionDoc/#autoup-system",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--primary-color)] transition-colors",children:"AutoUp Integration"})}),a.jsx("li",{children:a.jsx("a",{href:"https://modelmschief.github.io/BotFusionDoc/#premium-plans",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--primary-color)] transition-colors",children:"Premium Plans"})})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-bold mb-4 uppercase text-xs tracking-wider text-[var(--text-primary)]",children:"Developers"}),a.jsxs("ul",{className:"space-y-3 text-sm text-[var(--text-muted)]",children:[a.jsx("li",{children:a.jsx("a",{href:"https://modelmschief.github.io/BotFusionDoc/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--primary-color)] transition-colors",children:"Documentation"})}),a.jsx("li",{children:a.jsx("a",{href:"https://modelmschief.github.io/BotFusionDoc/#api-reference",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--primary-color)] transition-colors",children:"API Reference"})}),a.jsx("li",{children:a.jsx("a",{href:"https://modelmschief.github.io/BotFusionDoc/#rate-limits",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--primary-color)] transition-colors",children:"Rate Limits"})})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-bold mb-4 uppercase text-xs tracking-wider text-[var(--text-primary)]",children:"Support"}),a.jsxs("ul",{className:"space-y-3 text-sm text-[var(--text-muted)]",children:[a.jsx("li",{children:a.jsx("a",{href:"https://t.me/chosentwo_bot",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--primary-color)] transition-colors",children:"Telegram Support"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-[var(--primary-color)] transition-colors",children:"Status Page"})}),a.jsx("li",{children:a.jsx("a",{href:"https://github.com/modelmschief/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--primary-color)] transition-colors",children:"GitHub"})})]})]})]}),a.jsxs("div",{className:"pt-8 border-t border-[var(--border-color)] flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-[var(--text-muted)]",children:[a.jsx("div",{children:"Â© 2025 BotFusion Inc. All rights reserved."}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("a",{href:"#",className:"hover:text-[var(--text-primary)]",children:"Privacy"}),a.jsx("a",{href:"#",className:"hover:text-[var(--text-primary)]",children:"Terms"})]})]})]})})]})}function ue(){const{login:e,signupInit:r,verifyOtp:l}=ne(),o=s(),[i,c]=t.useState(!1),[m,p]=t.useState(""),[u,h]=t.useState(""),[b,g]=t.useState(""),[j,f]=t.useState(""),[y,w]=t.useState(""),[k,S]=t.useState(!1),[B,_]=t.useState(!1);return a.jsxs("div",{className:"min-h-screen grid grid-cols-1 md:grid-cols-2 bg-[var(--bg-app)] text-[var(--text-primary)] font-sans",children:[a.jsxs("div",{className:"hidden md:flex flex-col justify-center items-center bg-[#070707] relative overflow-hidden p-12 text-center border-r border-[var(--border-color)]",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[var(--primary-color)]/10 to-transparent pointer-events-none"}),a.jsx(x.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:1},className:"mb-8 p-6 bg-[var(--primary-color)]/10 rounded-full border border-[var(--primary-color)]/20 shadow-[0_0_50px_rgba(220,38,38,0.2)]",children:a.jsx(v,{size:64,className:"text-[var(--primary-color)]"})}),a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Command Your Fleet"}),a.jsx("p",{className:"text-[var(--text-muted)] max-w-sm leading-relaxed",children:"Centralized management for your Telegram bot empire. Sync, broadcast, and dominate."})]}),a.jsx("div",{className:"flex items-center justify-center p-6 relative",children:a.jsx(d,{children:B?a.jsxs(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md bg-[var(--bg-card)] border border-[var(--border-color)] rounded-xl p-8 shadow-2xl relative z-10",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-500/10 text-blue-400 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(C,{size:24})}),a.jsx("h2",{className:"text-2xl font-bold",children:"Verify Account"}),a.jsxs("p",{className:"text-[var(--text-muted)] text-sm mt-2",children:["We sent a code to your Telegram ID linked to ",a.jsx("b",{children:m}),"."]})]}),a.jsxs("form",{onSubmit:async e=>{e.preventDefault(),S(!0),w("");try{await l(m,j)?o("/dashboard"):w("Invalid OTP")}catch(t){const e=t;w(e?.response?.data?.error||"Verification failed")}finally{S(!1)}},className:"space-y-4",children:[a.jsx("div",{children:a.jsx("input",{type:"text",value:j,onChange:e=>f(e.target.value),className:"input-field text-center text-2xl tracking-[0.5em] font-mono",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢",maxLength:6,required:!0})}),y&&a.jsx("div",{className:"text-red-500 text-sm text-center font-medium bg-red-500/10 p-2 rounded",children:y}),a.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary w-full py-3 text-base flex justify-center items-center gap-2",children:k?a.jsx(z,{className:"animate-spin"}):"Verify & Enter"})]}),a.jsx("button",{onClick:()=>_(!1),className:"mt-4 text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] w-full text-center",children:"Cancel"})]}):a.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md space-y-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:i?"Create Account":"Welcome Back"}),a.jsx("p",{className:"text-[var(--text-muted)]",children:i?"Join the BotFusion Fleet":"Sign in to manage your bots"})]}),a.jsxs("form",{onSubmit:async t=>{t.preventDefault(),S(!0),w("");try{if(i)await r(m,u,b),_(!0);else{await e(m,u)?o("/dashboard"):w("Invalid email or password")}}catch(s){const e=s;w(e?.response?.data?.error||("string"==typeof s?s:"An error occurred"))}finally{S(!1)}},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1.5 ml-1",children:"Email"}),a.jsx("input",{type:"email",value:m,onChange:e=>p(e.target.value),className:"input-field",placeholder:"you@example.com",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1.5 ml-1",children:"Password"}),a.jsx("input",{type:"password",value:u,onChange:e=>h(e.target.value),className:"input-field",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0})]}),a.jsx(d,{children:i&&a.jsx(x.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:a.jsxs("div",{className:"pt-0",children:[" ",a.jsx("label",{className:"block text-sm font-medium mb-1.5 ml-1",children:"Telegram ID"}),a.jsx("input",{type:"text",value:b,onChange:e=>g(e.target.value),className:"input-field",placeholder:"e.g. 1928631932",required:i}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 ml-1",children:"Required for OTP verification."})]})})}),y&&a.jsx("div",{className:"text-red-500 text-sm text-center font-medium bg-red-500/10 p-2 rounded",children:y}),a.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary w-full py-3 text-base font-bold shadow-lg hover:shadow-red-500/20 flex justify-center items-center gap-2",children:k?a.jsx(z,{className:"animate-spin"}):a.jsxs(a.Fragment,{children:[i?"Sign Up":"Log In",a.jsx(N,{size:16})]})})]}),a.jsxs("div",{className:"mt-6 text-center text-sm text-[var(--text-muted)]",children:[i?"Already have an account?":"Don't have an account?"," "," ",a.jsx("button",{type:"button",onClick:()=>{c(!i),w("")},className:"text-[var(--primary-color)] font-semibold hover:underline",children:i?"Log In":"Sign up"})]}),!i&&a.jsx("div",{className:"mt-4 text-center",children:a.jsx(n,{to:"/forgot-password",className:"text-sm text-[var(--text-muted)] hover:text-[var(--primary-color)] hover:underline",children:"Forgot Password?"})})]})})})]})}function he(){const[e,s]=t.useState([]),[r,a]=t.useState([]),[l,o]=t.useState({type:"free"}),[i,n]=t.useState(!0),[c,d]=t.useState(""),x=t.useCallback(async()=>{try{const e=await le.get("/dashboard");s(e.data.bots);const t=e.data.tasks.map(e=>({...e,id:e.id||e._id}));a(t.reverse()),o(e.data.plan),d("")}catch(e){}finally{n(!1)}},[]);t.useEffect(()=>{x()},[x]);return{bots:e,tasks:r,plan:l,loading:i,error:c,refresh:x,addBot:async e=>{try{const t=await le.post("/add-bot",{bot_token:e});return await x(),{success:!0,message:t.data.message}}catch(t){return{success:!1,message:t.response?.data?.error||"Failed to add bot"}}},deleteBot:async e=>{try{return await le.post("/delete-bot",{bot_token:e}),s(t=>t.filter(t=>t.token!==e)),!0}catch(t){return!1}},uploadUsers:async(e,t)=>{const s=new FormData;s.append("bot_token",e),s.append("file",t);try{const e=await le.post("/upload-users",s,{headers:{"Content-Type":"multipart/form-data"}});return x(),{success:!0,message:e.data.message}}catch(r){return{success:!1,message:r.response?.data?.error||r.message||"Upload failed"}}}}}function be({isOpen:e,onClose:s,bots:r,onTaskStarted:l}){const[o,i]=t.useState("input"),[n,c]=t.useState("text"),[d,p]=t.useState(""),[u,h]=t.useState([]),[b,v]=t.useState(null),[g,j]=t.useState(null),[f,y]=t.useState({sent:0,failed:0,total:0}),[N,w]=t.useState(!1),[k,S]=t.useState([]),[C,z]=t.useState(!1),D=t.useRef(null),R=(e,t,s,r)=>{const a=[...u];a[e][t][s]=r,h(a)},q=e=>{D.current=setInterval(async()=>{try{const t=(await le.get(`/task-status/${e}`)).data;t.progress&&y({sent:t.progress.sent||0,failed:t.progress.failed||0,total:t.progress.total||0}),"complete"!==t.status&&"stopped"!==t.status||(i("complete"),D.current&&clearInterval(D.current))}catch(t){}},2e3)};t.useEffect(()=>()=>{D.current&&clearInterval(D.current)},[]),t.useEffect(()=>{},[e,o]);return e?N?a.jsxs("div",{className:"fixed bottom-4 right-4 z-50 card w-80 bg-[var(--bg-surface)] border-[var(--primary-color)] shadow-2xl p-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-sm",children:"Broadcasting..."}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Sent: ",f.sent," / ",f.total]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>w(!1),className:"hover:text-cyan-400",children:a.jsx(B,{size:16})}),a.jsx("button",{onClick:s,className:"hover:text-red-400",children:a.jsx(m,{size:16})})]})]}):a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:a.jsxs(x.div,{initial:{scale:.95},animate:{scale:1},className:"card w-full max-w-2xl bg-[var(--bg-surface)] border-[var(--border-color)] flex flex-col max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-[var(--border-color)]",children:[a.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(_,{className:"text-[var(--primary-color)]"}),"Broadcaster"]}),a.jsxs("div",{className:"flex gap-2",children:["sending"===o&&a.jsx("button",{onClick:()=>w(!0),className:"p-2 hover:bg-[var(--bg-app)] rounded",children:a.jsx(T,{size:20})}),a.jsx("button",{onClick:s,className:"p-2 hover:bg-[var(--bg-app)] rounded text-red-400/80 hover:text-red-400",children:a.jsx(m,{size:20})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:["input"===o&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-[var(--bg-app)] rounded-lg p-4 border border-[var(--border-color)]",children:[a.jsxs("h3",{className:"text-sm font-bold mb-3 flex items-center justify-between",children:["Target Bots",a.jsxs("span",{className:"text-xs font-normal text-[var(--text-muted)]",children:[r.length-k.length," / ",r.length," selected"]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-32 overflow-y-auto custom-scrollbar",children:r.map(e=>{const t=!k.includes(e.token);return a.jsxs("label",{className:"flex items-center gap-2 p-2 rounded border cursor-pointer transition-colors "+(t?"bg-[var(--bg-surface)] border-green-500/50":"bg-[#020617] border-transparent opacity-60"),children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded accent-green-500",checked:t,onChange:()=>{return t=e.token,void(k.includes(t)?S(k.filter(e=>e!==t)):S([...k,t]));var t}}),a.jsxs("div",{className:"overflow-hidden",children:[a.jsx("div",{className:"text-xs font-bold truncate",children:e.username}),a.jsxs("div",{className:"text-[10px] text-[var(--text-muted)]",children:[e.user_count," users"]})]})]},e.token)})})]}),a.jsx("div",{className:"flex bg-[var(--bg-app)] p-1 rounded-lg",children:["text","image","video"].map(e=>a.jsxs("button",{onClick:()=>c(e),className:"flex-1 py-2 text-sm font-medium rounded-md flex items-center justify-center gap-2 transition-colors "+(n===e?"bg-[var(--bg-surface)] shadow text-[var(--primary-color)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)]"),children:["text"===e&&a.jsx(I,{size:16}),"image"===e&&a.jsx(P,{size:16}),"video"===e&&a.jsx(E,{size:16}),e.charAt(0).toUpperCase()+e.slice(1)]},e))}),"text"!==n&&a.jsxs("div",{className:"border-2 border-dashed border-[var(--border-color)] rounded-xl p-8 text-center hover:border-[var(--primary-color)]/50 transition-colors cursor-pointer",onClick:()=>document.getElementById("media-upload")?.click(),children:[a.jsx("input",{id:"media-upload",type:"file",className:"hidden",accept:"image"===n?"image/*":"video/*",onChange:e=>v(e.target.files?.[0]||null)}),b?a.jsxs("div",{className:"text-green-500 font-bold flex items-center justify-center gap-2",children:[a.jsx(A,{size:20})," ",b.name]}):a.jsxs("div",{className:"text-[var(--text-muted)]",children:[a.jsxs("p",{className:"mb-2",children:["Click to upload ",n]}),a.jsx("p",{className:"text-xs",children:"Max size: 10MB"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold mb-2",children:"text"===n?"Message":"Caption (Optional)"}),a.jsx("textarea",{value:d,onChange:e=>p(e.target.value),className:"input-field min-h-[120px]",placeholder:"text"===n?"Hello everyone...":"Describe this media..."})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"text-sm font-bold",children:"Inline Buttons"}),a.jsxs("button",{onClick:()=>{h([...u,[{text:"",url:""}]])},className:"text-xs text-[var(--primary-color)] flex items-center gap-1 hover:underline",children:[a.jsx(U,{size:14})," Add Row"]})]}),a.jsx("div",{className:"space-y-2",children:u.map((e,t)=>a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("input",{className:"input-field py-1 text-sm flex-1",placeholder:"Button Text",value:e[0].text,onChange:e=>R(t,0,"text",e.target.value)}),a.jsx("input",{className:"input-field py-1 text-sm flex-1",placeholder:"URL (https://...)",value:e[0].url,onChange:e=>R(t,0,"url",e.target.value)}),a.jsx("button",{onClick:()=>(e=>{h(u.filter((t,s)=>s!==e))})(t),className:"text-red-500 hover:bg-red-500/10 p-1 rounded",children:a.jsx(F,{size:16})})]},t))})]}),a.jsx("div",{className:"bg-[var(--bg-app)] rounded-lg p-4 border border-[var(--border-color)]",children:a.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-bold",children:"Pin Message"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1",children:"âš ï¸ Pinning adds a small delay to avoid rate limits."})]}),a.jsx("input",{type:"checkbox",checked:C,onChange:e=>z(e.target.checked),className:"w-5 h-5 rounded accent-[var(--primary-color)]"})]})})]}),("sending"===o||"complete"===o)&&a.jsxs("div",{className:"text-center py-10 space-y-6",children:[a.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[a.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-[var(--bg-app)]"}),a.jsx(x.div,{className:"absolute inset-0 rounded-full border-4 border-[var(--primary-color)] border-t-transparent",animate:"sending"===o?{rotate:360}:{},transition:{repeat:1/0,duration:1,ease:"linear"}}),a.jsxs("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-2xl",children:[f.total>0?Math.round(f.sent/f.total*100):0,"%"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-sm mx-auto",children:[a.jsxs("div",{className:"card p-3 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-500",children:f.sent}),a.jsx("div",{className:"text-xs text-[var(--text-muted)]",children:"SENT"})]}),a.jsxs("div",{className:"card p-3 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-red-500",children:f.failed}),a.jsx("div",{className:"text-xs text-[var(--text-muted)]",children:"FAILED"})]})]}),"complete"===o&&a.jsx("p",{className:"text-green-500 font-bold",children:"Broadcast Complete!"})]})]}),a.jsxs("div",{className:"p-4 border-t border-[var(--border-color)] flex justify-end gap-3",children:["input"===o&&a.jsxs("button",{onClick:async()=>{if(!d&&"text"===n)return;if(!b&&"text"!==n)return;if(k.length===r.length)return void alert("Please select at least one bot.");const e=new FormData;e.append("message",d),e.append("content_type",n);const t=u.flat().filter(e=>e.text&&e.url);e.append("buttons",JSON.stringify(t)),e.append("excluded_bot_tokens",JSON.stringify(k)),e.append("pin_message",C.toString()),b&&e.append("file",b);try{const t=await le.post("/start-broadcast",e,{headers:{"Content-Type":"multipart/form-data"}});j(t.data.task_id),l(t.data.task_id),i("sending"),q(t.data.task_id)}catch(s){alert("Failed to start broadcast: "+(s.response?.data?.error||s.message||"Unknown error"))}},className:"btn btn-primary flex gap-2 items-center",children:[a.jsx(L,{size:18})," Start Broadcast"]}),"sending"===o&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:s,className:"btn bg-[var(--bg-app)] hover:bg-[var(--bg-surface)] text-[var(--text-muted)]",children:"Background"}),a.jsx("button",{onClick:async()=>{g&&await le.post(`/stop-broadcast/${g}`)},className:"btn bg-red-500 hover:bg-red-600 text-white",children:"Stop Broadcast"})]}),"complete"===o&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{i("input"),j(null),y({sent:0,failed:0,total:0}),p(""),v(null),h([]),z(!1)},className:"btn bg-[var(--bg-surface)] hover:bg-[var(--bg-app)]",children:"New Broadcast"}),a.jsx("button",{onClick:s,className:"btn btn-primary",children:"Close"})]})]})]})}):null}function ve(){const{bots:e,tasks:s,loading:r,refresh:l,addBot:o,deleteBot:i,uploadUsers:n}=he(),[c,p]=t.useState(!1),[h,b]=t.useState(""),[v,g]=t.useState(!1),[j,y]=t.useState(!1),[N,k]=t.useState(null),[S,C]=t.useState(null),[B,_]=t.useState(!1),[T,I]=t.useState(!1),[P,E]=t.useState(!1);t.useEffect(()=>{const e=()=>E(!0);return window.addEventListener("openStatsModal",e),()=>window.removeEventListener("openStatsModal",e)},[]);const A=e.reduce((e,t)=>e+t.user_count,0),M=s.filter(e=>"running"===e.status).length;return r?a.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-80px)]",children:a.jsx(z,{className:"animate-spin text-[var(--primary-color)]",size:48})}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(ge,{title:"Total Audience",value:A.toLocaleString(),icon:a.jsx(D,{className:"text-blue-400"})}),a.jsx(ge,{title:"Active Bots",value:e.length.toString(),icon:a.jsx(R,{className:"text-purple-400"})}),a.jsx(ge,{title:"Broadcasts",value:s.length.toString(),icon:a.jsx(w,{className:"text-green-400"}),trend:`${M} running`})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(f,{className:"text-[var(--primary-color)]",size:20}),"Your Fleet"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>I(!0),disabled:0===e.length,className:"btn bg-[var(--bg-surface)] border border-[var(--border-color)] hover:bg-[var(--bg-surface-hover)] flex items-center gap-2 disabled:opacity-50",children:[a.jsx(L,{size:16})," Broadcast"]}),a.jsxs("button",{onClick:()=>p(!0),className:"btn btn-primary flex items-center gap-2 text-sm",children:[a.jsx(U,{size:16})," Add Bot"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(d,{children:e.map(e=>a.jsxs(x.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"card group hover:border-[var(--primary-color)]/50 transition-colors relative",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--bg-app)] border border-[var(--border-color)] flex items-center justify-center",children:a.jsx(R,{size:20,className:"text-[var(--text-muted)]"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:e.username}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)] font-mono",children:[e.token.substring(0,10),"..."]})]})]}),a.jsx("button",{onClick:()=>i(e.token),className:"text-red-500/0 group-hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all p-1 hover:bg-red-500/10 rounded",title:"Delete Bot",children:a.jsx(F,{size:16})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:"Subscribers"}),a.jsx("span",{className:"font-bold",children:e.user_count.toLocaleString()})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-[var(--border-color)] flex gap-2",children:[a.jsx("button",{className:"flex-1 py-1.5 text-xs bg-[var(--bg-app)] hover:bg-[var(--primary-color)]/10 hover:text-[var(--primary-color)] rounded transition-colors",onClick:()=>{k(e.token),y(!0)},children:"Upload Users"}),a.jsx("button",{onClick:()=>I(!0),className:"flex-1 py-1.5 text-xs bg-[var(--bg-app)] hover:bg-blue-500/10 hover:text-blue-400 rounded transition-colors",children:"Broadcast"})]})]},e.token))}),0===e.length&&a.jsxs("div",{className:"col-span-full py-12 text-center text-[var(--text-muted)] border border-dashed border-[var(--border-color)] rounded-xl",children:[a.jsx(R,{size:48,className:"mx-auto mb-4 opacity-20"}),a.jsx("p",{children:"No bots connected yet."}),a.jsx("button",{onClick:()=>p(!0),className:"text-[var(--primary-color)] hover:underline mt-2",children:"Add your first bot"})]})]})]}),a.jsxs("div",{className:"hidden lg:block lg:col-span-1 space-y-6",children:[a.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(w,{className:"text-blue-400",size:20}),"Recent Tasks"]}),a.jsx("div",{className:"card space-y-4 max-h-[600px] overflow-y-auto",children:0===s.length?a.jsx("p",{className:"text-center text-[var(--text-muted)] py-4",children:"No recent activity."}):s.slice(0,10).map(e=>a.jsxs("div",{className:"p-3 bg-[var(--bg-app)] rounded-lg border border-[var(--border-color)]",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("span",{className:"text-xs font-bold uppercase px-2 py-0.5 rounded "+("complete"===e.status?"bg-green-500/10 text-green-500":"failed"===e.status?"bg-red-500/10 text-red-500":"bg-blue-500/10 text-blue-500 animate-pulse"),children:e.status}),a.jsx("span",{className:"text-[10px] text-[var(--text-muted)]",children:new Date(e.created_at).toLocaleTimeString()})]}),a.jsx("p",{className:"text-sm font-medium mb-1",children:"broadcast"===e.type?"ðŸ“¢ Broadcast":"ðŸ“‚ File Parse"}),"broadcast"===e.type&&e.progress&&a.jsxs("div",{className:"text-xs text-[var(--text-muted)]",children:["Sent: ",e.progress.sent," / ",e.progress.total,e.progress.failed?a.jsxs("span",{className:"text-red-400 ml-2",children:["(",e.progress.failed," failed)"]}):null]}),"file_parse"===e.type&&e.progress&&a.jsxs("div",{className:"text-xs text-[var(--text-muted)]",children:["Found: ",e.progress.found," | Added: ",e.progress.added]})]},e._id))})]})]}),a.jsx(be,{isOpen:T,onClose:()=>I(!1),bots:e,onTaskStarted:()=>{l()}}),a.jsx(d,{children:c&&a.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:a.jsxs(x.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"card w-full max-w-md bg-[var(--bg-surface)] border-[var(--border-color)]",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Connect New Bot"}),a.jsxs("form",{onSubmit:async e=>{e.preventDefault(),g(!0);const t=await o(h);g(!1),t.success?(p(!1),b("")):alert(t.message)},children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bot Token"}),a.jsx("input",{type:"text",value:h,onChange:e=>b(e.target.value),className:"input-field font-mono text-sm",placeholder:"123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11",required:!0}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"Paste the token from BotFather. We'll automatically fetch the username."})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 rounded-lg hover:bg-[var(--bg-app)] transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",className:"btn btn-primary flex items-center gap-2",disabled:v,children:[v?a.jsx(z,{className:"animate-spin",size:16}):a.jsx(U,{size:16}),"Connect Bot"]})]})]})]})})}),a.jsx(d,{children:j&&a.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:a.jsxs(x.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"card w-full max-w-lg bg-[var(--bg-surface)] border-[var(--border-color)]",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(q,{className:"text-[var(--primary-color)]"})," Upload Users"]}),a.jsx("button",{onClick:()=>{y(!1),C(null)},children:a.jsx(m,{size:20})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"border-2 border-dashed border-[var(--border-color)] rounded-xl p-8 text-center hover:border-[var(--primary-color)]/50 transition-colors cursor-pointer",onClick:()=>document.getElementById("user-file-upload")?.click(),children:[a.jsx("input",{id:"user-file-upload",type:"file",className:"hidden",accept:".txt,.csv,.xml,.json",onChange:e=>C(e.target.files?.[0]||null)}),S?a.jsxs("div",{className:"text-green-500 font-bold flex flex-col items-center gap-2",children:[a.jsx(O,{size:32}),S.name,a.jsxs("span",{className:"text-xs text-[var(--text-muted)] font-normal",children:[(S.size/1024).toFixed(1)," KB"]})]}):a.jsxs("div",{className:"text-[var(--text-muted)]",children:[a.jsx(q,{size:32,className:"mx-auto mb-3 opacity-50"}),a.jsx("p",{className:"font-medium",children:"Click to select file"}),a.jsx("p",{className:"text-xs mt-1",children:"Supported: .txt, .csv, .xml, .json (One ID per line)"})]})]}),a.jsx("div",{className:"flex justify-end gap-3",children:a.jsxs("button",{className:"btn btn-primary w-full flex justify-center items-center gap-2",disabled:!S||B,onClick:async()=>{if(!S||!N)return;_(!0);const e=await n(N,S);_(!1),e.success?(alert(e.message),y(!1),C(null),l()):alert("Upload Error: "+e.message)},children:[B?a.jsx(z,{className:"animate-spin"}):a.jsx(q,{size:18}),"Start Upload"]})})]})]})})}),a.jsx(d,{children:P&&a.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-[var(--bg-app)] overflow-y-auto md:hidden",children:a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(u,{className:"text-blue-400",size:24}),"Stats & History"]}),a.jsx("button",{onClick:()=>E(!1),className:"p-2 bg-[var(--bg-surface)] rounded-full border border-[var(--border-color)]",children:a.jsx(m,{size:20})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(ge,{title:"Total Audience",value:A.toLocaleString(),icon:a.jsx(D,{className:"text-blue-400"})}),a.jsx(ge,{title:"Active Bots",value:e.length.toString(),icon:a.jsx(R,{className:"text-purple-400"})}),a.jsx(ge,{title:"Broadcasts",value:s.length.toString(),icon:a.jsx(w,{className:"text-green-400"}),trend:`${M} running`})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[a.jsx(w,{className:"text-blue-400",size:18}),"Recent Tasks"]}),a.jsx("div",{className:"space-y-3",children:0===s.length?a.jsx("p",{className:"text-center text-[var(--text-muted)] py-4 bg-[var(--bg-surface)] rounded-lg border border-[var(--border-color)]",children:"No recent activity."}):s.slice(0,10).map(e=>a.jsxs("div",{className:"p-3 bg-[var(--bg-surface)] rounded-lg border border-[var(--border-color)]",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("span",{className:"text-xs font-bold uppercase px-2 py-0.5 rounded "+("complete"===e.status?"bg-green-500/10 text-green-500":"failed"===e.status?"bg-red-500/10 text-red-500":"bg-blue-500/10 text-blue-500 animate-pulse"),children:e.status}),a.jsx("span",{className:"text-[10px] text-[var(--text-muted)]",children:new Date(e.created_at).toLocaleTimeString()})]}),a.jsx("p",{className:"text-sm font-medium mb-1",children:"broadcast"===e.type?"ðŸ“¢ Broadcast":"ðŸ“‚ File Parse"}),"broadcast"===e.type&&e.progress&&a.jsxs("div",{className:"text-xs text-[var(--text-muted)]",children:["Sent: ",e.progress.sent," / ",e.progress.total,e.progress.failed?a.jsxs("span",{className:"text-red-400 ml-2",children:["(",e.progress.failed," failed)"]}):null]}),"file_parse"===e.type&&e.progress&&a.jsxs("div",{className:"text-xs text-[var(--text-muted)]",children:["Found: ",e.progress.found," | Added: ",e.progress.added]})]},e._id))})]}),a.jsx("button",{onClick:()=>E(!1),className:"w-full btn bg-[var(--bg-surface)] border border-[var(--border-color)] py-3",children:"Close"})]})})})]})}function ge({title:e,value:t,icon:s,trend:r}){return a.jsxs("div",{className:"card hover:border-[var(--primary-color)]/30 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("span",{className:"text-[var(--text-muted)] text-sm font-medium",children:e}),a.jsx("div",{className:"p-2 bg-[var(--bg-app)] rounded-lg border border-[var(--border-color)]",children:s})]}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:t}),r&&a.jsx("div",{className:"text-xs text-[var(--primary-color)] font-medium",children:r})]})}const je="http://127.0.0.1:8080";function fe(){const[e,s]=t.useState(null),[r,l]=t.useState(!0),[o,i]=t.useState(!1),[c,d]=t.useState(!1);t.useEffect(()=>{x()},[]);const x=async()=>{try{const e=await le.get("/integration-info");e.data.connection_key&&s(e.data.connection_key)}catch(e){}finally{l(!1)}},m=async()=>{if(!e||confirm("This will revoke your old key. All bots using the old key will stop updating until you update them. Continue?")){i(!0);try{const e=await le.post("/generate-connection-key",{});s(e.data.connection_key)}catch(t){alert("Failed to generate key")}finally{i(!1)}}};return a.jsxs("div",{className:"container max-w-4xl py-12 space-y-12",children:[a.jsxs("div",{children:[a.jsxs(n,{to:"/dashboard",className:"text-[var(--text-muted)] hover:text-white flex items-center gap-2 mb-6 transition-colors",children:[a.jsx(M,{size:16})," Back to Dashboard"]}),a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3 text-cyan-400",children:[a.jsx(g,{size:32})," AutoUp Bot Integration"]}),a.jsx("p",{className:"text-[var(--text-muted)] mt-2 text-lg",children:"Automatically sync new Telegram users to your bot audience without manual uploads."})]}),a.jsxs("div",{className:"card bg-[var(--bg-surface)] border-[var(--border-color)]",children:[a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Connection Key"}),a.jsxs("p",{className:"text-[var(--text-muted)] mb-6",children:["This key identifies ",a.jsx("b",{children:"your account"}),". Your bot application sends it when calling the AutoUp endpoint."]}),!e&&!r&&a.jsxs("button",{onClick:m,disabled:o,className:"btn bg-cyan-500 hover:bg-cyan-600 text-black font-bold flex items-center gap-2",children:[a.jsx(Y,{size:18,className:o?"animate-spin":""}),"Generate Connection Key"]}),e&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"p-4 bg-[#020617] border border-dashed border-cyan-500 rounded-lg font-mono text-lg text-cyan-400 break-all pr-12",children:e}),a.jsx("button",{onClick:()=>{e&&(navigator.clipboard.writeText(e),d(!0),setTimeout(()=>d(!1),2e3))},className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 text-[var(--text-muted)] hover:text-white bg-[#020617]/50 rounded-md",children:c?a.jsx(W,{size:18,className:"text-green-500"}):a.jsx(H,{size:18})})]}),a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsxs("button",{onClick:m,disabled:o,className:"text-red-400 hover:text-red-300 text-sm flex items-center gap-1 font-semibold",children:[a.jsx(Y,{size:14,className:o?"animate-spin":""})," Revoke & Generate New"]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)] bg-[var(--bg-app)] px-2 py-1 rounded",children:[a.jsx(V,{size:12,className:"inline mr-1 text-yellow-500"})," Not a secret key. Used for mapping only."]})]})]})]}),a.jsxs("div",{className:"card bg-[var(--bg-surface)] border-[var(--border-color)]",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"How AutoUp Works"}),a.jsxs("ol",{className:"space-y-3 text-[var(--text-muted)] list-decimal list-inside marker:text-cyan-500",children:[a.jsxs("li",{children:["A user sends ",a.jsx("code",{className:"bg-[#020617] px-1 py-0.5 rounded text-cyan-400",children:"/start"})," to your Telegram bot."]}),a.jsx("li",{children:"Your bot sends the user ID to the AutoUp API."}),a.jsx("li",{children:"Backend verifying ownership using your Connection Key."}),a.jsx("li",{children:"User ID is stored under the correct bot automatically."}),a.jsx("li",{children:"Broadcast system detects the new user instantly."})]})]}),a.jsxs("div",{className:"card bg-[var(--bg-surface)] border-[var(--border-color)] space-y-6",children:[a.jsx("h2",{className:"text-xl font-bold",children:"API Usage"}),a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"bg-green-500/10 text-green-500 px-2 py-1 rounded text-xs font-bold",children:"POST"}),a.jsxs("code",{className:"bg-[var(--bg-app)] px-3 py-1 rounded text-sm flex-1",children:[je,"/autoup"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-sm mb-2 text-[var(--text-muted)]",children:"Headers"}),a.jsx("pre",{className:"bg-[var(--bg-app)] p-4 rounded-lg border border-[var(--border-color)] text-xs font-mono text-[var(--primary-color)] overflow-x-auto",children:`X-CONNECTION-KEY: ${e||"YOUR_KEY"}\nContent-Type: application/json`})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-sm mb-2 text-[var(--text-muted)]",children:"Body"}),a.jsx("pre",{className:"bg-[var(--bg-app)] p-4 rounded-lg border border-[var(--border-color)] text-xs font-mono text-[var(--primary-color)] overflow-x-auto",children:'{\n  "bot_username": "@yourbot",\n  "user_id": 123456789\n}'})]})]})]}),a.jsxs("div",{className:"card bg-[var(--bg-surface)] border-[var(--border-color)]",children:[a.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[a.jsx($,{size:20,className:"text-cyan-400"}),"Example (Python)"]}),a.jsx("pre",{className:"bg-[var(--bg-app)] p-4 rounded-lg border border-[var(--border-color)] text-sm font-mono text-[var(--text-secondary)] overflow-x-auto",children:`import requests\n\ndef update_user(user_id, bot_username):\n    requests.post(\n        "${je}/autoup",\n        headers={\n            "X-CONNECTION-KEY": "${e||"YOUR_KEY"}"\n        },\n        json={\n            "bot_username": bot_username,\n            "user_id": user_id\n        }\n    )\n\n# Call 'update_user' inside your /start command handler`})]})]})}function ye(){const{plan:e,refresh:s}=he(),[r,l]=t.useState(""),[o,i]=t.useState(!1),[n,c]=t.useState(null),[d,m]=t.useState(null),p="premium"===e.type,u=[{id:"1m",title:"Starter",price:"â‚¹79",duration:"1 Month",features:["Unlimited Bots","Unlimited Users","Priority Support"],highlight:!1},{id:"1y",title:"Best Value",price:"â‚¹559",duration:"1 Year",features:["Unlimited Bots","Unlimited Users","Priority Support","Save 40%"],highlight:!0,color:"text-yellow-400"},{id:"3m",title:"Quarterly",price:"â‚¹160",duration:"3 Months",features:["Unlimited Bots","Unlimited Users","Priority Support"],highlight:!1}],h=async e=>{if(confirm(`Request the ${e} plan? Admin will contact you.`)){c(e),m(null);try{await le.post("/request-premium",{package:e}),m({type:"success",message:"Request sent! Check your Telegram/Email."})}catch(t){const e=t;m({type:"error",message:e.response?.data?.error||"Error requesting plan"})}finally{c(null)}}};return a.jsxs("div",{className:"container max-w-5xl py-12 space-y-12",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx(x.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},className:"inline-block p-4 rounded-full bg-gradient-to-br from-yellow-400/20 to-orange-500/20 border border-yellow-500/30 mb-4",children:a.jsx(K,{size:48,className:"text-yellow-400 drop-shadow-[0_0_15px_rgba(250,204,21,0.5)]"})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-yellow-200 via-amber-400 to-yellow-600",children:"Unlock Full Power"}),a.jsx("p",{className:"text-xl text-[var(--text-muted)] max-w-2xl mx-auto",children:"Scale your operation with unlimited broadcasts, faster speeds, and priority support."})]}),d&&a.jsx(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"p-4 rounded-xl text-center font-bold border "+("success"===d.type?"bg-green-500/10 border-green-500/20 text-green-500":"bg-red-500/10 border-red-500/20 text-red-500"),children:d.message}),p?a.jsxs("div",{className:"bg-gradient-to-r from-yellow-500/10 to-orange-500/10 border border-yellow-500/30 rounded-2xl p-8 text-center relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:a.jsx(K,{size:120})}),a.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-2",children:"You are a Premium Member"}),a.jsx("p",{className:"text-[var(--text-muted)]",children:"Your plan is active and valid."}),e.expiry&&a.jsxs("p",{className:"text-sm mt-2 font-mono",children:["Expires: ",new Date(e.expiry).toLocaleDateString()]})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 relative",children:[a.jsx(Ne,{plan:u[0],onRequest:h,loadingId:n}),a.jsx(Ne,{plan:u[1],onRequest:h,loadingId:n}),a.jsx(Ne,{plan:u[2],onRequest:h,loadingId:n})]}),a.jsx("div",{className:"max-w-md mx-auto",children:a.jsxs("div",{className:"card bg-[var(--bg-surface)] border-[var(--border-color)] p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(G,{className:"text-[var(--primary-color)]"}),a.jsx("h3",{className:"text-lg font-bold",children:"Have a Promo Code?"})]}),a.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),r){i(!0),m(null);try{await le.post("/redeem-code",{code:r.trim().toUpperCase()}),m({type:"success",message:"Premium activated! Redirecting..."}),l(""),s()}catch(t){const e=t;m({type:"error",message:e.response?.data?.error||"Invalid Code"})}finally{i(!1)}}},className:"flex gap-2",children:[a.jsx("input",{type:"text",id:"redeem-code",placeholder:"ENTER CODE",className:"input-field font-mono uppercase",value:r,onChange:e=>l(e.target.value)}),a.jsx("button",{type:"submit",disabled:o,className:"btn btn-primary min-w-[100px]",children:o?a.jsx(z,{className:"animate-spin mx-auto",size:18}):"Redeem"})]})]})})]})}function Ne({plan:e,onRequest:t,loadingId:s}){const r=e.highlight;return a.jsxs(x.div,{whileHover:{y:-5},className:"relative p-6 rounded-2xl border flex flex-col "+(r?"bg-[var(--bg-surface)] border-yellow-500/50 shadow-[0_0_20px_rgba(251,191,36,0.2)]":"bg-[var(--bg-surface)] border-[var(--border-color)]"),children:[a.jsx("h3",{className:"text-xl font-bold mb-2 "+(r?"text-yellow-400":""),children:e.title}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:e.price}),a.jsx("div",{className:"text-[var(--text-muted)] text-sm font-bold uppercase tracking-wider mb-6",children:e.duration}),a.jsx("ul",{className:"space-y-3 mb-8 flex-1",children:e.features.map((e,t)=>a.jsxs("li",{className:"flex items-center gap-3 text-sm",children:[a.jsx(W,{size:16,className:r?"text-yellow-400":"text-[var(--primary-color)]"}),e]},t))}),a.jsx("button",{onClick:()=>t(e.id),disabled:null!==s,className:"btn w-full font-bold "+(r?"bg-gradient-to-r from-yellow-400 to-orange-500 text-black border-none hover:shadow-[0_0_20px_rgba(251,191,36,0.4)]":"bg-[var(--bg-app)] border border-[var(--border-color)] hover:border-[var(--primary-color)]"),children:s===e.id?a.jsx(z,{className:"animate-spin mx-auto"}):"Request Plan"})]})}function we(){const[e,s]=t.useState(""),[r,l]=t.useState(""),[o,i]=t.useState(!1),[c,d]=t.useState(""),[m,p]=t.useState(!1);return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--bg-app)] text-[var(--text-primary)] p-6",children:a.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:m?a.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border-color)] rounded-xl p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-500/10 text-green-400 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(J,{size:32})}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Check Your Telegram"}),a.jsx("p",{className:"text-[var(--text-muted)] mb-6",children:"If your email and Telegram ID match an account, we've sent a reset link to your Telegram."}),a.jsx("p",{className:"text-sm text-yellow-500/80 bg-yellow-500/10 p-3 rounded-lg mb-6",children:"âš ï¸ The link expires in 5 minutes"}),a.jsxs(n,{to:"/login",className:"btn btn-primary w-full py-3 flex items-center justify-center gap-2",children:[a.jsx(M,{size:18}),"Back to Login"]})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border-color)] rounded-xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Forgot Password?"}),a.jsx("p",{className:"text-[var(--text-muted)]",children:"Enter your email and Telegram ID to receive a reset link"})]}),a.jsxs("form",{onSubmit:async t=>{t.preventDefault(),i(!0),d("");try{await le.post("/request-password-reset",{email:e,telegram_id:r}),p(!0)}catch(s){const e=s;d(e?.response?.data?.error||"An error occurred")}finally{i(!1)}},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1.5 ml-1",children:[a.jsx(Q,{size:14,className:"inline mr-1"}),"Email"]}),a.jsx("input",{type:"email",value:e,onChange:e=>s(e.target.value),className:"input-field",placeholder:"you@example.com",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1.5 ml-1",children:[a.jsx(C,{size:14,className:"inline mr-1"}),"Telegram ID"]}),a.jsx("input",{type:"text",value:r,onChange:e=>l(e.target.value),className:"input-field",placeholder:"e.g. 1928631932",required:!0}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 ml-1",children:"The same Telegram ID you used during signup"})]}),c&&a.jsx("div",{className:"text-red-500 text-sm text-center font-medium bg-red-500/10 p-2 rounded",children:c}),a.jsx("button",{type:"submit",disabled:o,className:"btn btn-primary w-full py-3 text-base font-bold flex justify-center items-center gap-2",children:o?a.jsx(z,{className:"animate-spin"}):"Send Reset Link"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(n,{to:"/login",className:"text-[var(--text-muted)] hover:text-[var(--text-primary)] flex items-center justify-center gap-1",children:[a.jsx(M,{size:16}),"Back to Login"]})})]})})})}function ke(){const[e]=X(),r=s(),[l,o]=t.useState(""),[i,c]=t.useState(""),[d,m]=t.useState(!1),[p,u]=t.useState(""),[h,b]=t.useState(!1),v=e.get("token");t.useEffect(()=>{v||u("Invalid reset link. Please request a new password reset.")},[v]);return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--bg-app)] text-[var(--text-primary)] p-6",children:a.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:h?a.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border-color)] rounded-xl p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-500/10 text-green-400 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(J,{size:32})}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Password Reset Successful!"}),a.jsx("p",{className:"text-[var(--text-muted)] mb-6",children:"Your password has been changed. Redirecting to login..."}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-[var(--primary-color)]",children:[a.jsx(z,{className:"animate-spin",size:18}),a.jsx("span",{children:"Redirecting..."})]})]}):v?a.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border-color)] rounded-xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-12 h-12 bg-[var(--primary-color)]/10 text-[var(--primary-color)] rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(N,{size:24})}),a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Reset Your Password"}),a.jsx("p",{className:"text-[var(--text-muted)]",children:"Enter your new password below"})]}),a.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),u(""),l===i)if(l.length<6)u("Password must be at least 6 characters");else{m(!0);try{await le.post("/reset-password",{token:v,new_password:l}),b(!0),setTimeout(()=>{r("/login")},3e3)}catch(t){const e=t;u(e?.response?.data?.error||"Failed to reset password")}finally{m(!1)}}else u("Passwords do not match")},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1.5 ml-1",children:"New Password"}),a.jsx("input",{type:"password",value:l,onChange:e=>o(e.target.value),className:"input-field",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0,minLength:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1.5 ml-1",children:"Confirm Password"}),a.jsx("input",{type:"password",value:i,onChange:e=>c(e.target.value),className:"input-field",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0,minLength:6}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 ml-1",children:"Enter the same password again"})]}),i&&a.jsx("div",{className:"text-sm flex items-center gap-2 "+(l===i?"text-green-400":"text-red-400"),children:l===i?a.jsxs(a.Fragment,{children:[a.jsx(J,{size:16}),"Passwords match"]}):a.jsxs(a.Fragment,{children:[a.jsx(Z,{size:16}),"Passwords do not match"]})}),p&&a.jsx("div",{className:"text-red-500 text-sm text-center font-medium bg-red-500/10 p-2 rounded",children:p}),a.jsx("button",{type:"submit",disabled:d||l!==i,className:"btn btn-primary w-full py-3 text-base font-bold flex justify-center items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?a.jsx(z,{className:"animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(N,{size:18}),"Reset Password"]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(n,{to:"/login",className:"text-[var(--text-muted)] hover:text-[var(--text-primary)] flex items-center justify-center gap-1",children:[a.jsx(M,{size:16}),"Back to Login"]})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border-color)] rounded-xl p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/10 text-red-400 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Z,{size:32})}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Invalid Reset Link"}),a.jsx("p",{className:"text-[var(--text-muted)] mb-6",children:"This reset link is invalid or has expired. Please request a new password reset."}),a.jsx(n,{to:"/forgot-password",className:"btn btn-primary w-full py-3 flex items-center justify-center gap-2",children:"Request New Reset Link"})]})})})}function Se(){return a.jsx(ee,{children:a.jsxs(ie,{children:[a.jsx(xe,{}),a.jsx("div",{className:"pt-20",children:a.jsxs(te,{children:[a.jsx(se,{path:"/",element:a.jsx(pe,{})}),a.jsx(se,{path:"/login",element:a.jsx(ue,{})}),a.jsx(se,{path:"/dashboard",element:a.jsx(ve,{})}),a.jsx(se,{path:"/autoup",element:a.jsx(fe,{})}),a.jsx(se,{path:"/premium",element:a.jsx(ye,{})}),a.jsx(se,{path:"/forgot-password",element:a.jsx(we,{})}),a.jsx(se,{path:"/reset-password",element:a.jsx(ke,{})})]})})]})})}re.createRoot(document.getElementById("root")).render(a.jsx(ae.StrictMode,{children:a.jsx(Se,{})}));
