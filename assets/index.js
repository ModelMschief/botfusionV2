import{a as e,r as t,u as s,j as a,b as r,S as l,M as o,c as i,L as n,d as c,A as d,m as x,X as m,C as p,e as u,K as h,F as b,Z as v,E as g,f,g as j,h as y,i as N,k as w,l as k,n as S,o as C,p as z,T as B,I as _,V as T,P as I,q as A,s as U,t as E,U as P,B as F,v as L,w as D,x as R,R as O,y as M,z as q,D as Y,G as W,H as V,J as H,N as $,O as K,Q as G,W as J,Y as Q}from"./vendor.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const X=e.create({baseURL:"https://botfusion.onrender.com",headers:{"Content-Type":"application/json"}});X.interceptors.request.use(e=>{const t=localStorage.getItem("jwtToken");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e}),X.interceptors.response.use(e=>e,e=>{if(e.response){const{status:t}=e.response;401===t&&(localStorage.removeItem("jwtToken"),window.location.hash.includes("/login")||(window.location.hash="#/login"))}return Promise.reject(e)});const Z=t.createContext(void 0);function ee({children:e}){const[l,o]=t.useState(null),[i,n]=t.useState(!1),c=s(),d=t.useCallback(()=>{o(null),localStorage.removeItem("jwtToken"),c("/login")},[c]),x=t.useCallback(async()=>{const e=localStorage.getItem("jwtToken");if(e)try{const t=a(e);if(1e3*t.exp<Date.now())return void d();o({id:t.sub,isPremium:!1})}catch(t){d()}},[d]);t.useEffect(()=>{x()},[x]);return r.jsx(Z.Provider,{value:{user:l,login:async(e,t)=>{try{const s=await X.post("/login",{email:e,password:t});if(s.data.token)return localStorage.setItem("jwtToken",s.data.token),await x(),!0}catch(s){}return!1},signupInit:async(e,t,s)=>{try{return await X.post("/signup",{email:e,password:t,telegram_id:s}),!0}catch(a){throw a}},verifyOtp:async(e,t)=>{try{const s=await X.post("/verify-otp",{email:e,otp:t});if(s.data.token)return localStorage.setItem("jwtToken",s.data.token),await x(),!0}catch(s){}return!1},logout:d,checkSession:x,isGlobalFireActive:i,setGlobalFireActive:n},children:e})}const te=()=>{const e=t.useContext(Z);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};function se(){const[e,s]=t.useState("dark");t.useEffect(()=>{const e=localStorage.getItem("theme");if(e)s(e),"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");else{const e=document.documentElement.classList.contains("dark");s(e?"dark":"light")}},[]);return r.jsx("button",{onClick:()=>{const t=document.documentElement;"dark"===e?(t.classList.remove("dark"),s("light"),localStorage.setItem("theme","light")):(t.classList.add("dark"),s("dark"),localStorage.setItem("theme","dark"))},className:"btn btn-ghost","aria-label":"Toggle Theme",children:"dark"===e?r.jsx(l,{size:20}):r.jsx(o,{size:20})})}const ae=""+new URL("../apple-touch-icon.png",import.meta.url).href;function re(){const{user:e,logout:s}=te(),[a,l]=t.useState(!1),o=i().pathname;if("/login"===o)return null;const v=[{href:"/dashboard",label:"Dashboard",icon:r.jsx(u,{size:18})},{href:"/autoup",label:"AutoUp",icon:r.jsx(h,{size:18})},{href:"/premium",label:"Premium",icon:r.jsx(b,{size:18})}];return r.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 border-b border-[var(--border-color)] bg-[var(--bg-app)]/80 backdrop-blur-md",children:[r.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[r.jsxs(n,{to:"/",className:"flex items-center gap-2 font-bold text-xl text-[var(--primary-color)]",children:[r.jsx("img",{src:ae,alt:"BotFusion",width:32,height:32,className:"rounded-md"}),r.jsx("span",{children:"BotFusion"})]}),r.jsx("nav",{className:"hidden md:flex items-center gap-6",children:e&&v.map(e=>r.jsxs(n,{to:e.href,className:"flex items-center gap-2 text-sm font-medium transition-colors hover:text-[var(--primary-color)] "+(o===e.href?"text-[var(--primary-color)]":"text-[var(--text-secondary)]"),children:[e.icon,e.label]},e.href))}),r.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[r.jsx(se,{}),e?r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm bg-[var(--bg-surface)] border border-[var(--border-color)] px-3 py-1.5 rounded-full",children:[r.jsx("span",{className:"font-semibold",children:e.email}),e.isPremium&&r.jsx("span",{title:"Premium User",className:"flex items-center text-lg",children:"ðŸ”¥"})]}),r.jsx("button",{onClick:s,className:"text-sm text-[var(--text-muted)] hover:text-[var(--destructive)]",children:"Logout"})]}):r.jsx(n,{to:"/login",className:"btn btn-primary text-sm px-4 py-2 font-bold shadow-[0_0_15px_rgba(220,38,38,0.3)] hover:shadow-[0_0_25px_rgba(220,38,38,0.5)] transition-all",children:"Login or Sign Up"})]}),r.jsx("button",{className:"md:hidden p-2 text-[var(--text-primary)]",onClick:()=>l(!0),children:r.jsx(c,{})})]}),r.jsx(d,{children:a&&r.jsxs(x.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{type:"spring",damping:20},className:"fixed inset-0 z-50 bg-[var(--bg-app)] flex flex-col p-6 md:hidden",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("span",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx("img",{src:ae,alt:"Menu",width:32,height:32,className:"rounded-md"})," Menu"]}),r.jsx("button",{onClick:()=>l(!1),className:"p-2 bg-[var(--bg-surface)] rounded-full border border-[var(--border-color)]",children:r.jsx(m,{})})]}),r.jsxs("div",{className:"flex flex-col gap-4",children:[e&&v.map(e=>r.jsxs(n,{to:e.href,onClick:()=>l(!1),className:"p-4 text-lg font-medium border border-[var(--border-color)] rounded-xl bg-[var(--bg-surface)] flex items-center gap-3 active:scale-95 transition-transform",children:[r.jsx("span",{className:"text-[var(--primary-color)]",children:e.icon}),e.label]},e.href)),e&&"/dashboard"===o&&r.jsxs("button",{onClick:()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("openStatsModal")),l(!1)},className:"p-4 text-lg font-medium border border-blue-500/30 rounded-xl bg-blue-500/10 flex items-center gap-3 active:scale-95 transition-transform text-blue-400",children:[r.jsx(p,{size:18}),"Stats & History"]}),!e&&r.jsx(n,{to:"/login",onClick:()=>l(!1),className:"p-4 text-lg font-medium border border-[var(--border-color)] rounded-xl bg-[var(--primary-color)] text-white flex items-center justify-center gap-3 active:scale-95 transition-transform",children:"Login or Sign Up"}),r.jsxs("div",{className:"mt-8 border-t border-[var(--border-color)] pt-8 flex justify-between items-center",children:[r.jsx("span",{className:"text-[var(--text-muted)]",children:"Theme"}),r.jsx(se,{})]}),e&&r.jsx("button",{onClick:()=>{s(),l(!1)},className:"mt-4 btn btn-ghost w-full border border-[var(--border-color)] text-[var(--text-muted)]",children:"Logout"})]})]})})]})}const le=()=>{const[e,s]=t.useState([]);return t.useEffect(()=>{const e=Array.from({length:20}).map((e,t)=>({id:t,x:100*Math.random(),y:100*Math.random(),size:4*Math.random()+1,duration:20*Math.random()+10}));s(e)},[]),r.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:e.map(e=>r.jsx(x.div,{className:"absolute bg-[var(--primary-color)] rounded-full opacity-20",style:{left:`${e.x}%`,top:`${e.y}%`,width:e.size,height:e.size},animate:{y:[0,-100,0],x:[0,50,0],opacity:[.2,.5,.2]},transition:{duration:e.duration,repeat:1/0,ease:"linear"}},e.id))})};function oe(){const e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return r.jsxs("div",{className:"min-h-screen bg-[var(--bg-app)] text-[var(--text-primary)] font-sans overflow-x-hidden",children:[r.jsxs("section",{className:"relative pt-32 pb-24 md:pt-48 md:pb-32 overflow-hidden",children:[r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-[var(--primary-color)]/5 rounded-full blur-[120px] pointer-events-none"}),r.jsx(le,{}),r.jsx(x.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,y:[0,-20,0]},transition:{opacity:{duration:1.5},scale:{duration:1.5},y:{duration:6,repeat:1/0,ease:"easeInOut"}},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 opacity-30 pointer-events-none mix-blend-screen",children:r.jsx("img",{src:ae,alt:"Background Logo",width:400,height:400,className:"blur-[80px]"})}),r.jsxs("div",{className:"container relative z-10 text-center px-4 mx-auto max-w-5xl",children:[r.jsxs(x.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[var(--primary-color)]/10 text-[var(--primary-color)] text-xs font-bold uppercase tracking-wider mb-6 border border-[var(--primary-color)]/20 backdrop-blur-sm shadow-[0_0_15px_rgba(220,38,38,0.2)]",children:[r.jsx(v,{size:12,fill:"currentColor"})," Enterprise Telegram Tools"]}),r.jsxs(x.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.1},className:"text-5xl md:text-7xl font-bold tracking-tight mb-6 leading-[1.1] drop-shadow-2xl",children:["Unitify Your Bots ",r.jsx("br",{className:"hidden md:block"}),r.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-br from-[var(--primary-color)] via-orange-500 to-yellow-500 animate-gradient-x",children:"Telegram Bot Armies"})]}),r.jsx(x.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-lg md:text-xl text-[var(--text-muted)] max-w-2xl mx-auto mb-10 leading-relaxed font-light drop-shadow-md",children:"Centralize management, sync user bases automatically, and broadcast to millions. Engineered for technical bot owners who need scale without bans."}),r.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[r.jsx(n,{to:"/login",className:"btn btn-primary h-12 px-8 text-base font-bold shadow-[0_0_30px_rgba(220,38,38,0.4)] hover:shadow-[0_0_50px_rgba(220,38,38,0.6)] hover:scale-105 transition-all",children:"Get Started"}),r.jsxs("a",{href:"https://modelmschief.github.io/BotFusionDoc/",target:"_blank",rel:"noopener noreferrer",className:"btn bg-white/5 border border-white/10 hover:bg-white/10 hover:border-[var(--primary-color)] hover:text-[var(--primary-color)] h-12 px-8 text-base backdrop-blur-md transition-all",children:["Documentation ",r.jsx(g,{size:16,className:"ml-2"})]})]})]})]}),r.jsx("section",{className:"border-y border-[var(--border-color)] bg-[var(--bg-surface)] py-8",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"flex flex-wrap justify-center gap-8 md:gap-16 opacity-70",children:[{icon:f,label:"AES-256 Secured"},{icon:j,label:"Rate-Limit Aware"},{icon:y,label:"99.9% Uptime"},{icon:N,label:"Multi-Bot Architecture"}].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[r.jsx(e.icon,{size:20,className:"text-[var(--text-muted)]"}),r.jsx("span",{children:e.label})]},t))})})}),r.jsx("section",{id:"features",className:"py-24 relative",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(x.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-4",children:"Infrastructure Grade Features"}),r.jsx("p",{className:"text-[var(--text-muted)] max-w-xl mx-auto",children:"Built for power users who demand control and reliability."})]}),r.jsxs(x.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[minmax(280px,auto)]",children:[r.jsxs(x.div,{variants:e,className:"md:col-span-2 card p-8 group hover:border-[var(--primary-color)]/30 transition-colors",children:[r.jsx("div",{className:"w-12 h-12 bg-[var(--bg-app)] border border-[var(--border-color)] rounded-lg flex items-center justify-center mb-6 text-[var(--primary-color)] group-hover:scale-110 transition-transform",children:r.jsx(N,{size:24})}),r.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Centralized Management Hub"}),r.jsx("p",{className:"text-[var(--text-muted)] leading-relaxed text-lg",children:"Stop managing bots via scattered Python scripts. Connect all your tokens to one unified dashboard. View aggregate user counts, plan status, and health metrics in a single pane of glass."})]}),r.jsxs(x.div,{variants:e,className:"card p-8 group hover:border-[var(--primary-color)]/30 transition-colors",children:[r.jsx("div",{className:"w-12 h-12 bg-[var(--bg-app)] border border-[var(--border-color)] rounded-lg flex items-center justify-center mb-6 text-[var(--primary-color)] group-hover:scale-110 transition-transform",children:r.jsx(v,{size:24})}),r.jsx("h3",{className:"text-xl font-bold mb-3",children:"Offline Broadcasting"}),r.jsx("p",{className:"text-[var(--text-muted)] leading-relaxed",children:"Bot crashed? Server down? We broadcast directly via Telegram API, bypassing your local bot instance entirely."})]}),r.jsxs(x.div,{variants:e,className:"card p-8 group hover:border-[var(--primary-color)]/30 transition-colors",children:[r.jsx("div",{className:"w-12 h-12 bg-[var(--bg-app)] border border-[var(--border-color)] rounded-lg flex items-center justify-center mb-6 text-[var(--primary-color)] group-hover:scale-110 transition-transform",children:r.jsx(j,{size:24})}),r.jsx("h3",{className:"text-xl font-bold mb-3",children:"Live Status Streams"}),r.jsx("p",{className:"text-[var(--text-muted)] leading-relaxed",children:"Real-time WebSockets feed delivery status. Watch Sent, Failed, and Blocked counts update as they happen."})]}),r.jsx(x.div,{variants:e,className:"md:col-span-2 card p-8 group hover:border-[var(--primary-color)]/30 transition-colors",children:r.jsx("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"w-12 h-12 bg-[var(--bg-app)] border border-[var(--border-color)] rounded-lg flex items-center justify-center mb-6 text-[var(--primary-color)] group-hover:scale-110 transition-transform",children:r.jsx(u,{size:24})}),r.jsx("h3",{className:"text-2xl font-bold mb-3",children:"AutoUp User Sync Protocol"}),r.jsxs("p",{className:"text-[var(--text-muted)] leading-relaxed text-lg mb-4",children:["Use our API endpoint to automatically push new users from your bot code to our database. Forget manual CSV exports. As users ",r.jsx("code",{className:"bg-[var(--bg-app)] px-1 py-0.5 rounded text-sm font-mono border border-[var(--border-color)]",children:"/start"})," your bot, they are instantly broadcast-ready."]}),r.jsx("span",{className:"font-mono text-xs p-2 rounded bg-[var(--primary-color)]/10 text-[var(--primary-color)] border border-[var(--primary-color)]/20",children:"POST /autoup"})]})})})]})]})}),r.jsx("section",{className:"py-24 bg-[var(--bg-surface)] border-y border-[var(--border-color)]",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Technical Workflow"}),r.jsx("p",{className:"text-[var(--text-muted)]",children:"From setup to delivery in four steps."})]}),r.jsxs("div",{className:"relative grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsx("div",{className:"hidden md:block absolute top-[24px] left-[10%] right-[10%] h-[2px] bg-[var(--border-color)] z-0"}),[{step:"01",title:"Authenticate",desc:"Secure login via Telegram OTP. We verify identity to prevent abuse."},{step:"02",title:"Connect Bots",desc:"Add Bot Tokens. We validate ownership via Telegram's getMe method."},{step:"03",title:"Ingest Users",desc:"Upload legacy files or integrate AutoUp for realtime sync."},{step:"04",title:"Broadcast",desc:"Compose content, select bot subset, and fire. We handle queues."}].map((e,t)=>r.jsxs(x.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.1*t},viewport:{once:!0},className:"relative z-10 flex flex-col items-center text-center group",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-[var(--bg-app)] border border-[var(--border-color)] flex items-center justify-center font-bold font-mono text-lg mb-6 group-hover:border-[var(--primary-color)] group-hover:text-[var(--primary-color)] transition-colors shadow-lg",children:e.step}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:e.title}),r.jsx("p",{className:"text-sm text-[var(--text-muted)] leading-relaxed px-4",children:e.desc})]},t))]})]})}),r.jsx("section",{id:"safety",className:"py-24 overflow-hidden",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[r.jsxs(x.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[r.jsxs("h2",{className:"text-3xl md:text-5xl font-bold mb-6",children:["Rate-Limit Safe.",r.jsx("br",{}),"Flood Control Built-in."]}),r.jsx("p",{className:"text-[var(--text-muted)] text-lg mb-8",children:"Telegram enforces strict limits (~30 messages/sec). Naive loops lead to 429 errors and bot bans. We handle the complexity for you."}),r.jsx("ul",{className:"space-y-4",children:["Intelligent exponential backoff on 429s.","Parallel worker threads (configurable).","Automatic pruning of blocked/deleted users."].map((e,t)=>r.jsxs("li",{className:"flex items-center gap-3 text-[var(--text-secondary)]",children:[r.jsx(u,{size:20,className:"text-green-500 shrink-0"}),e]},t))})]}),r.jsxs(x.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"bg-[#0d0d0d] border border-[var(--border-color)] rounded-xl p-6 font-mono text-sm relative shadow-2xl",children:[r.jsxs("div",{className:"flex gap-2 mb-4 opacity-50",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-[var(--text-muted)]",children:"> Initializing broadcast worker..."}),r.jsxs("div",{className:"text-[var(--text-primary)]",children:["> ",r.jsx("span",{className:"text-[var(--primary-color)]",children:"Target:"})," 45,200 users across 12 bots"]}),r.jsx("div",{className:"text-[var(--text-muted)]",children:"> Batch 1 sent. (Latency: 12ms)"}),r.jsx("div",{className:"text-[var(--text-muted)]",children:"> Batch 2 sent. (Latency: 14ms)"}),r.jsx("div",{className:"text-yellow-500",children:"> Rate Limit Hit (429). Sleeping 3s..."}),r.jsx("div",{className:"text-green-500 font-bold",children:"> Resumed. 99.8% Delivery Rate."})]}),r.jsx("div",{className:"absolute -inset-[1px] bg-gradient-to-r from-transparent via-[var(--primary-color)]/20 to-transparent opacity-20 pointer-events-none rounded-xl"})]})]})})}),r.jsx("footer",{className:"bg-[var(--bg-surface)] border-t border-[var(--border-color)] pt-20 pb-8",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-16",children:[r.jsxs("div",{className:"col-span-1 md:col-span-1",children:[r.jsx(n,{to:"/",className:"font-bold text-xl flex items-center gap-2 mb-4 text-[var(--primary-color)]",children:"BotFusion"}),r.jsx("p",{className:"text-[var(--text-muted)] text-sm leading-relaxed",children:"The professional standard for Telegram bot automation. Built for developers, by developers."})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-bold mb-4 uppercase text-xs tracking-wider text-[var(--text-primary)]",children:"Platform"}),r.jsxs("ul",{className:"space-y-3 text-sm text-[var(--text-muted)]",children:[r.jsx("li",{children:r.jsx(n,{to:"/dashboard",className:"hover:text-[var(--primary-color)] transition-colors",children:"Dashboard"})}),r.jsx("li",{children:r.jsx("a",{href:"https://modelmschief.github.io/BotFusionDoc/#autoup-system",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--primary-color)] transition-colors",children:"AutoUp Integration"})}),r.jsx("li",{children:r.jsx("a",{href:"https://modelmschief.github.io/BotFusionDoc/#premium-plans",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--primary-color)] transition-colors",children:"Premium Plans"})})]})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-bold mb-4 uppercase text-xs tracking-wider text-[var(--text-primary)]",children:"Developers"}),r.jsxs("ul",{className:"space-y-3 text-sm text-[var(--text-muted)]",children:[r.jsx("li",{children:r.jsx("a",{href:"https://modelmschief.github.io/BotFusionDoc/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--primary-color)] transition-colors",children:"Documentation"})}),r.jsx("li",{children:r.jsx("a",{href:"https://modelmschief.github.io/BotFusionDoc/#api-reference",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--primary-color)] transition-colors",children:"API Reference"})}),r.jsx("li",{children:r.jsx("a",{href:"https://modelmschief.github.io/BotFusionDoc/#rate-limits",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--primary-color)] transition-colors",children:"Rate Limits"})})]})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-bold mb-4 uppercase text-xs tracking-wider text-[var(--text-primary)]",children:"Support"}),r.jsxs("ul",{className:"space-y-3 text-sm text-[var(--text-muted)]",children:[r.jsx("li",{children:r.jsx("a",{href:"https://t.me/chosentwo_bot",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--primary-color)] transition-colors",children:"Telegram Support"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-[var(--primary-color)] transition-colors",children:"Status Page"})}),r.jsx("li",{children:r.jsx("a",{href:"https://github.com/modelmschief/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--primary-color)] transition-colors",children:"GitHub"})})]})]})]}),r.jsxs("div",{className:"pt-8 border-t border-[var(--border-color)] flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-[var(--text-muted)]",children:[r.jsx("div",{children:"Â© 2025 BotFusion Inc. All rights reserved."}),r.jsxs("div",{className:"flex gap-6",children:[r.jsx("a",{href:"#",className:"hover:text-[var(--text-primary)]",children:"Privacy"}),r.jsx("a",{href:"#",className:"hover:text-[var(--text-primary)]",children:"Terms"})]})]})]})})]})}function ie(){const{login:e,signupInit:a,verifyOtp:l}=te(),o=s(),[i,n]=t.useState(!1),[c,m]=t.useState(""),[p,h]=t.useState(""),[b,v]=t.useState(""),[g,j]=t.useState(""),[y,N]=t.useState(""),[S,C]=t.useState(!1),[z,B]=t.useState(!1);return r.jsxs("div",{className:"min-h-screen grid grid-cols-1 md:grid-cols-2 bg-[var(--bg-app)] text-[var(--text-primary)] font-sans",children:[r.jsxs("div",{className:"hidden md:flex flex-col justify-center items-center bg-[#070707] relative overflow-hidden p-12 text-center border-r border-[var(--border-color)]",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[var(--primary-color)]/10 to-transparent pointer-events-none"}),r.jsx(x.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:1},className:"mb-8 p-6 bg-[var(--primary-color)]/10 rounded-full border border-[var(--primary-color)]/20 shadow-[0_0_50px_rgba(220,38,38,0.2)]",children:r.jsx(u,{size:64,className:"text-[var(--primary-color)]"})}),r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Command Your Fleet"}),r.jsx("p",{className:"text-[var(--text-muted)] max-w-sm leading-relaxed",children:"Centralized management for your Telegram bot empire. Sync, broadcast, and dominate."})]}),r.jsx("div",{className:"flex items-center justify-center p-6 relative",children:r.jsx(d,{children:z?r.jsxs(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md bg-[var(--bg-card)] border border-[var(--border-color)] rounded-xl p-8 shadow-2xl relative z-10",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500/10 text-blue-400 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(w,{size:24})}),r.jsx("h2",{className:"text-2xl font-bold",children:"Verify Account"}),r.jsxs("p",{className:"text-[var(--text-muted)] text-sm mt-2",children:["We sent a code to your Telegram ID linked to ",r.jsx("b",{children:c}),"."]})]}),r.jsxs("form",{onSubmit:async e=>{e.preventDefault(),C(!0),N("");try{await l(c,g)?o("/dashboard"):N("Invalid OTP")}catch(t){const e=t;N(e?.response?.data?.error||"Verification failed")}finally{C(!1)}},className:"space-y-4",children:[r.jsx("div",{children:r.jsx("input",{type:"text",value:g,onChange:e=>j(e.target.value),className:"input-field text-center text-2xl tracking-[0.5em] font-mono",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢",maxLength:6,required:!0})}),y&&r.jsx("div",{className:"text-red-500 text-sm text-center font-medium bg-red-500/10 p-2 rounded",children:y}),r.jsx("button",{type:"submit",disabled:S,className:"btn btn-primary w-full py-3 text-base flex justify-center items-center gap-2",children:S?r.jsx(k,{className:"animate-spin"}):"Verify & Enter"})]}),r.jsx("button",{onClick:()=>B(!1),className:"mt-4 text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] w-full text-center",children:"Cancel"})]}):r.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md space-y-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:i?"Create Account":"Welcome Back"}),r.jsx("p",{className:"text-[var(--text-muted)]",children:i?"Join the BotFusion Fleet":"Sign in to manage your bots"})]}),r.jsxs("form",{onSubmit:async t=>{t.preventDefault(),C(!0),N("");try{if(i)await a(c,p,b),B(!0);else{await e(c,p)?o("/dashboard"):N("Invalid email or password")}}catch(s){const e=s;N(e?.response?.data?.error||("string"==typeof s?s:"An error occurred"))}finally{C(!1)}},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1.5 ml-1",children:"Email"}),r.jsx("input",{type:"email",value:c,onChange:e=>m(e.target.value),className:"input-field",placeholder:"you@example.com",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1.5 ml-1",children:"Password"}),r.jsx("input",{type:"password",value:p,onChange:e=>h(e.target.value),className:"input-field",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0})]}),r.jsx(d,{children:i&&r.jsx(x.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:r.jsxs("div",{className:"pt-0",children:[" ",r.jsx("label",{className:"block text-sm font-medium mb-1.5 ml-1",children:"Telegram ID"}),r.jsx("input",{type:"text",value:b,onChange:e=>v(e.target.value),className:"input-field",placeholder:"e.g. 1928631932",required:i}),r.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 ml-1",children:"Required for OTP verification."})]})})}),y&&r.jsx("div",{className:"text-red-500 text-sm text-center font-medium bg-red-500/10 p-2 rounded",children:y}),r.jsx("button",{type:"submit",disabled:S,className:"btn btn-primary w-full py-3 text-base font-bold shadow-lg hover:shadow-red-500/20 flex justify-center items-center gap-2",children:S?r.jsx(k,{className:"animate-spin"}):r.jsxs(r.Fragment,{children:[i?"Sign Up":"Log In",r.jsx(f,{size:16})]})})]}),r.jsxs("div",{className:"mt-6 text-center text-sm text-[var(--text-muted)]",children:[i?"Already have an account?":"Don't have an account?"," "," ",r.jsx("button",{type:"button",onClick:()=>{n(!i),N("")},className:"text-[var(--primary-color)] font-semibold hover:underline",children:i?"Log In":"Sign up"})]})]})})})]})}function ne(){const[e,s]=t.useState([]),[a,r]=t.useState([]),[l,o]=t.useState({type:"free"}),[i,n]=t.useState(!0),[c,d]=t.useState(""),x=t.useCallback(async()=>{try{const e=await X.get("/dashboard");s(e.data.bots);const t=e.data.tasks.map(e=>({...e,id:e.id||e._id}));r(t.reverse()),o(e.data.plan),d("")}catch(e){}finally{n(!1)}},[]);t.useEffect(()=>{x()},[x]);return{bots:e,tasks:a,plan:l,loading:i,error:c,refresh:x,addBot:async e=>{try{const t=await X.post("/add-bot",{bot_token:e});return await x(),{success:!0,message:t.data.message}}catch(t){return{success:!1,message:t.response?.data?.error||"Failed to add bot"}}},deleteBot:async e=>{try{return await X.post("/delete-bot",{bot_token:e}),s(t=>t.filter(t=>t.token!==e)),!0}catch(t){return!1}},uploadUsers:async(e,t)=>{const s=new FormData;s.append("bot_token",e),s.append("file",t);try{const e=await X.post("/upload-users",s,{headers:{"Content-Type":"multipart/form-data"}});return x(),{success:!0,message:e.data.message}}catch(a){return{success:!1,message:a.response?.data?.error||a.message||"Upload failed"}}}}}function ce({isOpen:e,onClose:s,bots:a,onTaskStarted:l}){const[o,i]=t.useState("input"),[n,c]=t.useState("text"),[d,p]=t.useState(""),[u,h]=t.useState([]),[b,v]=t.useState(null),[g,f]=t.useState(null),[j,y]=t.useState({sent:0,failed:0,total:0}),[N,w]=t.useState(!1),[k,P]=t.useState([]),F=t.useRef(null),L=(e,t,s,a)=>{const r=[...u];r[e][t][s]=a,h(r)},D=e=>{F.current=setInterval(async()=>{try{const t=(await X.get(`/task-status/${e}`)).data;t.progress&&y({sent:t.progress.sent||0,failed:t.progress.failed||0,total:t.progress.total||0}),"complete"!==t.status&&"stopped"!==t.status||(i("complete"),F.current&&clearInterval(F.current))}catch(t){}},2e3)};t.useEffect(()=>()=>{F.current&&clearInterval(F.current)},[]),t.useEffect(()=>{},[e,o]);return e?N?r.jsxs("div",{className:"fixed bottom-4 right-4 z-50 card w-80 bg-[var(--bg-surface)] border-[var(--primary-color)] shadow-2xl p-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-sm",children:"Broadcasting..."}),r.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Sent: ",j.sent," / ",j.total]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>w(!1),className:"hover:text-cyan-400",children:r.jsx(S,{size:16})}),r.jsx("button",{onClick:s,className:"hover:text-red-400",children:r.jsx(m,{size:16})})]})]}):r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:r.jsxs(x.div,{initial:{scale:.95},animate:{scale:1},className:"card w-full max-w-2xl bg-[var(--bg-surface)] border-[var(--border-color)] flex flex-col max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-[var(--border-color)]",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(C,{className:"text-[var(--primary-color)]"}),"Broadcaster"]}),r.jsxs("div",{className:"flex gap-2",children:["sending"===o&&r.jsx("button",{onClick:()=>w(!0),className:"p-2 hover:bg-[var(--bg-app)] rounded",children:r.jsx(z,{size:20})}),r.jsx("button",{onClick:s,className:"p-2 hover:bg-[var(--bg-app)] rounded text-red-400/80 hover:text-red-400",children:r.jsx(m,{size:20})})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:["input"===o&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-[var(--bg-app)] rounded-lg p-4 border border-[var(--border-color)]",children:[r.jsxs("h3",{className:"text-sm font-bold mb-3 flex items-center justify-between",children:["Target Bots",r.jsxs("span",{className:"text-xs font-normal text-[var(--text-muted)]",children:[a.length-k.length," / ",a.length," selected"]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-32 overflow-y-auto custom-scrollbar",children:a.map(e=>{const t=!k.includes(e.token);return r.jsxs("label",{className:"flex items-center gap-2 p-2 rounded border cursor-pointer transition-colors "+(t?"bg-[var(--bg-surface)] border-green-500/50":"bg-[#020617] border-transparent opacity-60"),children:[r.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded accent-green-500",checked:t,onChange:()=>{return t=e.token,void(k.includes(t)?P(k.filter(e=>e!==t)):P([...k,t]));var t}}),r.jsxs("div",{className:"overflow-hidden",children:[r.jsx("div",{className:"text-xs font-bold truncate",children:e.username}),r.jsxs("div",{className:"text-[10px] text-[var(--text-muted)]",children:[e.user_count," users"]})]})]},e.token)})})]}),r.jsx("div",{className:"flex bg-[var(--bg-app)] p-1 rounded-lg",children:["text","image","video"].map(e=>r.jsxs("button",{onClick:()=>c(e),className:"flex-1 py-2 text-sm font-medium rounded-md flex items-center justify-center gap-2 transition-colors "+(n===e?"bg-[var(--bg-surface)] shadow text-[var(--primary-color)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)]"),children:["text"===e&&r.jsx(B,{size:16}),"image"===e&&r.jsx(_,{size:16}),"video"===e&&r.jsx(T,{size:16}),e.charAt(0).toUpperCase()+e.slice(1)]},e))}),"text"!==n&&r.jsxs("div",{className:"border-2 border-dashed border-[var(--border-color)] rounded-xl p-8 text-center hover:border-[var(--primary-color)]/50 transition-colors cursor-pointer",onClick:()=>document.getElementById("media-upload")?.click(),children:[r.jsx("input",{id:"media-upload",type:"file",className:"hidden",accept:"image"===n?"image/*":"video/*",onChange:e=>v(e.target.files?.[0]||null)}),b?r.jsxs("div",{className:"text-green-500 font-bold flex items-center justify-center gap-2",children:[r.jsx(I,{size:20})," ",b.name]}):r.jsxs("div",{className:"text-[var(--text-muted)]",children:[r.jsxs("p",{className:"mb-2",children:["Click to upload ",n]}),r.jsx("p",{className:"text-xs",children:"Max size: 10MB"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"text"===n?"Message":"Caption (Optional)"}),r.jsx("textarea",{value:d,onChange:e=>p(e.target.value),className:"input-field min-h-[120px]",placeholder:"text"===n?"Hello everyone...":"Describe this media..."})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("label",{className:"text-sm font-bold",children:"Inline Buttons"}),r.jsxs("button",{onClick:()=>{h([...u,[{text:"",url:""}]])},className:"text-xs text-[var(--primary-color)] flex items-center gap-1 hover:underline",children:[r.jsx(A,{size:14})," Add Row"]})]}),r.jsx("div",{className:"space-y-2",children:u.map((e,t)=>r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx("input",{className:"input-field py-1 text-sm flex-1",placeholder:"Button Text",value:e[0].text,onChange:e=>L(t,0,"text",e.target.value)}),r.jsx("input",{className:"input-field py-1 text-sm flex-1",placeholder:"URL (https://...)",value:e[0].url,onChange:e=>L(t,0,"url",e.target.value)}),r.jsx("button",{onClick:()=>(e=>{h(u.filter((t,s)=>s!==e))})(t),className:"text-red-500 hover:bg-red-500/10 p-1 rounded",children:r.jsx(U,{size:16})})]},t))})]})]}),("sending"===o||"complete"===o)&&r.jsxs("div",{className:"text-center py-10 space-y-6",children:[r.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[r.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-[var(--bg-app)]"}),r.jsx(x.div,{className:"absolute inset-0 rounded-full border-4 border-[var(--primary-color)] border-t-transparent",animate:"sending"===o?{rotate:360}:{},transition:{repeat:1/0,duration:1,ease:"linear"}}),r.jsxs("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-2xl",children:[j.total>0?Math.round(j.sent/j.total*100):0,"%"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-sm mx-auto",children:[r.jsxs("div",{className:"card p-3 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-500",children:j.sent}),r.jsx("div",{className:"text-xs text-[var(--text-muted)]",children:"SENT"})]}),r.jsxs("div",{className:"card p-3 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-500",children:j.failed}),r.jsx("div",{className:"text-xs text-[var(--text-muted)]",children:"FAILED"})]})]}),"complete"===o&&r.jsx("p",{className:"text-green-500 font-bold",children:"Broadcast Complete!"})]})]}),r.jsxs("div",{className:"p-4 border-t border-[var(--border-color)] flex justify-end gap-3",children:["input"===o&&r.jsxs("button",{onClick:async()=>{if(!d&&"text"===n)return;if(!b&&"text"!==n)return;if(k.length===a.length)return void alert("Please select at least one bot.");const e=new FormData;e.append("message",d),e.append("content_type",n);const t=u.flat().filter(e=>e.text&&e.url);e.append("buttons",JSON.stringify(t)),e.append("excluded_bot_tokens",JSON.stringify(k)),b&&e.append("file",b);try{const t=await X.post("/start-broadcast",e,{headers:{"Content-Type":"multipart/form-data"}});f(t.data.task_id),l(t.data.task_id),i("sending"),D(t.data.task_id)}catch(s){alert("Failed to start broadcast: "+(s.response?.data?.error||s.message||"Unknown error"))}},className:"btn btn-primary flex gap-2 items-center",children:[r.jsx(E,{size:18})," Start Broadcast"]}),"sending"===o&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:s,className:"btn bg-[var(--bg-app)] hover:bg-[var(--bg-surface)] text-[var(--text-muted)]",children:"Background"}),r.jsx("button",{onClick:async()=>{g&&await X.post(`/stop-broadcast/${g}`)},className:"btn bg-red-500 hover:bg-red-600 text-white",children:"Stop Broadcast"})]}),"complete"===o&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>{i("input"),f(null),y({sent:0,failed:0,total:0}),p(""),v(null),h([])},className:"btn bg-[var(--bg-surface)] hover:bg-[var(--bg-app)]",children:"New Broadcast"}),r.jsx("button",{onClick:s,className:"btn btn-primary",children:"Close"})]})]})]})}):null}function de(){const{bots:e,tasks:s,loading:a,refresh:l,addBot:o,deleteBot:i,uploadUsers:n}=ne(),[c,u]=t.useState(!1),[h,b]=t.useState(""),[g,f]=t.useState(!1),[y,N]=t.useState(!1),[w,S]=t.useState(null),[C,z]=t.useState(null),[B,_]=t.useState(!1),[T,I]=t.useState(!1),[R,O]=t.useState(!1);t.useEffect(()=>{const e=()=>O(!0);return window.addEventListener("openStatsModal",e),()=>window.removeEventListener("openStatsModal",e)},[]);const M=e.reduce((e,t)=>e+t.user_count,0),q=s.filter(e=>"running"===e.status).length;return a?r.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-80px)]",children:r.jsx(k,{className:"animate-spin text-[var(--primary-color)]",size:48})}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(xe,{title:"Total Audience",value:M.toLocaleString(),icon:r.jsx(P,{className:"text-blue-400"}),trend:"+12% this week"}),r.jsx(xe,{title:"Active Bots",value:e.length.toString(),icon:r.jsx(F,{className:"text-purple-400"})}),r.jsx(xe,{title:"Broadcasts",value:s.length.toString(),icon:r.jsx(j,{className:"text-green-400"}),trend:`${q} running`})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(v,{className:"text-[var(--primary-color)]",size:20}),"Your Fleet"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>I(!0),disabled:0===e.length,className:"btn bg-[var(--bg-surface)] border border-[var(--border-color)] hover:bg-[var(--bg-surface-hover)] flex items-center gap-2 disabled:opacity-50",children:[r.jsx(E,{size:16})," Broadcast"]}),r.jsxs("button",{onClick:()=>u(!0),className:"btn btn-primary flex items-center gap-2 text-sm",children:[r.jsx(A,{size:16})," Add Bot"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(d,{children:e.map(e=>r.jsxs(x.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"card group hover:border-[var(--primary-color)]/50 transition-colors relative",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--bg-app)] border border-[var(--border-color)] flex items-center justify-center",children:r.jsx(F,{size:20,className:"text-[var(--text-muted)]"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:e.username}),r.jsxs("p",{className:"text-xs text-[var(--text-muted)] font-mono",children:[e.token.substring(0,10),"..."]})]})]}),r.jsx("button",{onClick:()=>i(e.token),className:"text-red-500/0 group-hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all p-1 hover:bg-red-500/10 rounded",title:"Delete Bot",children:r.jsx(U,{size:16})})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-[var(--text-muted)]",children:"Subscribers"}),r.jsx("span",{className:"font-bold",children:e.user_count.toLocaleString()})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-[var(--border-color)] flex gap-2",children:[r.jsx("button",{className:"flex-1 py-1.5 text-xs bg-[var(--bg-app)] hover:bg-[var(--primary-color)]/10 hover:text-[var(--primary-color)] rounded transition-colors",onClick:()=>{S(e.token),N(!0)},children:"Upload Users"}),r.jsx("button",{onClick:()=>I(!0),className:"flex-1 py-1.5 text-xs bg-[var(--bg-app)] hover:bg-blue-500/10 hover:text-blue-400 rounded transition-colors",children:"Broadcast"})]})]},e.token))}),0===e.length&&r.jsxs("div",{className:"col-span-full py-12 text-center text-[var(--text-muted)] border border-dashed border-[var(--border-color)] rounded-xl",children:[r.jsx(F,{size:48,className:"mx-auto mb-4 opacity-20"}),r.jsx("p",{children:"No bots connected yet."}),r.jsx("button",{onClick:()=>u(!0),className:"text-[var(--primary-color)] hover:underline mt-2",children:"Add your first bot"})]})]})]}),r.jsxs("div",{className:"hidden lg:block lg:col-span-1 space-y-6",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(j,{className:"text-blue-400",size:20}),"Recent Tasks"]}),r.jsx("div",{className:"card space-y-4 max-h-[600px] overflow-y-auto",children:0===s.length?r.jsx("p",{className:"text-center text-[var(--text-muted)] py-4",children:"No recent activity."}):s.slice(0,10).map(e=>r.jsxs("div",{className:"p-3 bg-[var(--bg-app)] rounded-lg border border-[var(--border-color)]",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("span",{className:"text-xs font-bold uppercase px-2 py-0.5 rounded "+("complete"===e.status?"bg-green-500/10 text-green-500":"failed"===e.status?"bg-red-500/10 text-red-500":"bg-blue-500/10 text-blue-500 animate-pulse"),children:e.status}),r.jsx("span",{className:"text-[10px] text-[var(--text-muted)]",children:new Date(e.created_at).toLocaleTimeString()})]}),r.jsx("p",{className:"text-sm font-medium mb-1",children:"broadcast"===e.type?"ðŸ“¢ Broadcast":"ðŸ“‚ File Parse"}),"broadcast"===e.type&&e.progress&&r.jsxs("div",{className:"text-xs text-[var(--text-muted)]",children:["Sent: ",e.progress.sent," / ",e.progress.total,e.progress.failed?r.jsxs("span",{className:"text-red-400 ml-2",children:["(",e.progress.failed," failed)"]}):null]}),"file_parse"===e.type&&e.progress&&r.jsxs("div",{className:"text-xs text-[var(--text-muted)]",children:["Found: ",e.progress.found," | Added: ",e.progress.added]})]},e._id))})]})]}),r.jsx(ce,{isOpen:T,onClose:()=>I(!1),bots:e,onTaskStarted:()=>{l()}}),r.jsx(d,{children:c&&r.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:r.jsxs(x.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"card w-full max-w-md bg-[var(--bg-surface)] border-[var(--border-color)]",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Connect New Bot"}),r.jsxs("form",{onSubmit:async e=>{e.preventDefault(),f(!0);const t=await o(h);f(!1),t.success?(u(!1),b("")):alert(t.message)},children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bot Token"}),r.jsx("input",{type:"text",value:h,onChange:e=>b(e.target.value),className:"input-field font-mono text-sm",placeholder:"123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11",required:!0}),r.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"Paste the token from BotFather. We'll automatically fetch the username."})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 rounded-lg hover:bg-[var(--bg-app)] transition-colors",children:"Cancel"}),r.jsxs("button",{type:"submit",className:"btn btn-primary flex items-center gap-2",disabled:g,children:[g?r.jsx(k,{className:"animate-spin",size:16}):r.jsx(A,{size:16}),"Connect Bot"]})]})]})]})})}),r.jsx(d,{children:y&&r.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:r.jsxs(x.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"card w-full max-w-lg bg-[var(--bg-surface)] border-[var(--border-color)]",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(L,{className:"text-[var(--primary-color)]"})," Upload Users"]}),r.jsx("button",{onClick:()=>{N(!1),z(null)},children:r.jsx(m,{size:20})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-2 border-dashed border-[var(--border-color)] rounded-xl p-8 text-center hover:border-[var(--primary-color)]/50 transition-colors cursor-pointer",onClick:()=>document.getElementById("user-file-upload")?.click(),children:[r.jsx("input",{id:"user-file-upload",type:"file",className:"hidden",accept:".txt,.csv,.xml,.json",onChange:e=>z(e.target.files?.[0]||null)}),C?r.jsxs("div",{className:"text-green-500 font-bold flex flex-col items-center gap-2",children:[r.jsx(D,{size:32}),C.name,r.jsxs("span",{className:"text-xs text-[var(--text-muted)] font-normal",children:[(C.size/1024).toFixed(1)," KB"]})]}):r.jsxs("div",{className:"text-[var(--text-muted)]",children:[r.jsx(L,{size:32,className:"mx-auto mb-3 opacity-50"}),r.jsx("p",{className:"font-medium",children:"Click to select file"}),r.jsx("p",{className:"text-xs mt-1",children:"Supported: .txt, .csv, .xml, .json (One ID per line)"})]})]}),r.jsx("div",{className:"flex justify-end gap-3",children:r.jsxs("button",{className:"btn btn-primary w-full flex justify-center items-center gap-2",disabled:!C||B,onClick:async()=>{if(!C||!w)return;_(!0);const e=await n(w,C);_(!1),e.success?(alert(e.message),N(!1),z(null),l()):alert("Upload Error: "+e.message)},children:[B?r.jsx(k,{className:"animate-spin"}):r.jsx(L,{size:18}),"Start Upload"]})})]})]})})}),r.jsx(d,{children:R&&r.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-[var(--bg-app)] overflow-y-auto md:hidden",children:r.jsxs("div",{className:"p-4 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(p,{className:"text-blue-400",size:24}),"Stats & History"]}),r.jsx("button",{onClick:()=>O(!1),className:"p-2 bg-[var(--bg-surface)] rounded-full border border-[var(--border-color)]",children:r.jsx(m,{size:20})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsx(xe,{title:"Total Audience",value:M.toLocaleString(),icon:r.jsx(P,{className:"text-blue-400"}),trend:"+12% this week"}),r.jsx(xe,{title:"Active Bots",value:e.length.toString(),icon:r.jsx(F,{className:"text-purple-400"})}),r.jsx(xe,{title:"Broadcasts",value:s.length.toString(),icon:r.jsx(j,{className:"text-green-400"}),trend:`${q} running`})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[r.jsx(j,{className:"text-blue-400",size:18}),"Recent Tasks"]}),r.jsx("div",{className:"space-y-3",children:0===s.length?r.jsx("p",{className:"text-center text-[var(--text-muted)] py-4 bg-[var(--bg-surface)] rounded-lg border border-[var(--border-color)]",children:"No recent activity."}):s.slice(0,10).map(e=>r.jsxs("div",{className:"p-3 bg-[var(--bg-surface)] rounded-lg border border-[var(--border-color)]",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("span",{className:"text-xs font-bold uppercase px-2 py-0.5 rounded "+("complete"===e.status?"bg-green-500/10 text-green-500":"failed"===e.status?"bg-red-500/10 text-red-500":"bg-blue-500/10 text-blue-500 animate-pulse"),children:e.status}),r.jsx("span",{className:"text-[10px] text-[var(--text-muted)]",children:new Date(e.created_at).toLocaleTimeString()})]}),r.jsx("p",{className:"text-sm font-medium mb-1",children:"broadcast"===e.type?"ðŸ“¢ Broadcast":"ðŸ“‚ File Parse"}),"broadcast"===e.type&&e.progress&&r.jsxs("div",{className:"text-xs text-[var(--text-muted)]",children:["Sent: ",e.progress.sent," / ",e.progress.total,e.progress.failed?r.jsxs("span",{className:"text-red-400 ml-2",children:["(",e.progress.failed," failed)"]}):null]}),"file_parse"===e.type&&e.progress&&r.jsxs("div",{className:"text-xs text-[var(--text-muted)]",children:["Found: ",e.progress.found," | Added: ",e.progress.added]})]},e._id))})]}),r.jsx("button",{onClick:()=>O(!1),className:"w-full btn bg-[var(--bg-surface)] border border-[var(--border-color)] py-3",children:"Close"})]})})})]})}function xe({title:e,value:t,icon:s,trend:a}){return r.jsxs("div",{className:"card hover:border-[var(--primary-color)]/30 transition-colors",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("span",{className:"text-[var(--text-muted)] text-sm font-medium",children:e}),r.jsx("div",{className:"p-2 bg-[var(--bg-app)] rounded-lg border border-[var(--border-color)]",children:s})]}),r.jsx("div",{className:"text-3xl font-bold mb-1",children:t}),a&&r.jsx("div",{className:"text-xs text-[var(--primary-color)] font-medium",children:a})]})}const me="https://botfusion.onrender.com";function pe(){const[e,s]=t.useState(null),[a,l]=t.useState(!0),[o,i]=t.useState(!1),[c,d]=t.useState(!1);t.useEffect(()=>{x()},[]);const x=async()=>{try{const e=await X.get("/integration-info");e.data.connection_key&&s(e.data.connection_key)}catch(e){}finally{l(!1)}},m=async()=>{if(!e||confirm("This will revoke your old key. All bots using the old key will stop updating until you update them. Continue?")){i(!0);try{const e=await X.post("/generate-connection-key",{});s(e.data.connection_key)}catch(t){alert("Failed to generate key")}finally{i(!1)}}};return r.jsxs("div",{className:"container max-w-4xl py-12 space-y-12",children:[r.jsxs("div",{children:[r.jsxs(n,{to:"/dashboard",className:"text-[var(--text-muted)] hover:text-white flex items-center gap-2 mb-6 transition-colors",children:[r.jsx(R,{size:16})," Back to Dashboard"]}),r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3 text-cyan-400",children:[r.jsx(h,{size:32})," AutoUp Bot Integration"]}),r.jsx("p",{className:"text-[var(--text-muted)] mt-2 text-lg",children:"Automatically sync new Telegram users to your bot audience without manual uploads."})]}),r.jsxs("div",{className:"card bg-[var(--bg-surface)] border-[var(--border-color)]",children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:"Connection Key"}),r.jsxs("p",{className:"text-[var(--text-muted)] mb-6",children:["This key identifies ",r.jsx("b",{children:"your account"}),". Your bot application sends it when calling the AutoUp endpoint."]}),!e&&!a&&r.jsxs("button",{onClick:m,disabled:o,className:"btn bg-cyan-500 hover:bg-cyan-600 text-black font-bold flex items-center gap-2",children:[r.jsx(O,{size:18,className:o?"animate-spin":""}),"Generate Connection Key"]}),e&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"p-4 bg-[#020617] border border-dashed border-cyan-500 rounded-lg font-mono text-lg text-cyan-400 break-all pr-12",children:e}),r.jsx("button",{onClick:()=>{e&&(navigator.clipboard.writeText(e),d(!0),setTimeout(()=>d(!1),2e3))},className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 text-[var(--text-muted)] hover:text-white bg-[#020617]/50 rounded-md",children:c?r.jsx(M,{size:18,className:"text-green-500"}):r.jsx(q,{size:18})})]}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs("button",{onClick:m,disabled:o,className:"text-red-400 hover:text-red-300 text-sm flex items-center gap-1 font-semibold",children:[r.jsx(O,{size:14,className:o?"animate-spin":""})," Revoke & Generate New"]}),r.jsxs("p",{className:"text-xs text-[var(--text-muted)] bg-[var(--bg-app)] px-2 py-1 rounded",children:[r.jsx(Y,{size:12,className:"inline mr-1 text-yellow-500"})," Not a secret key. Used for mapping only."]})]})]})]}),r.jsxs("div",{className:"card bg-[var(--bg-surface)] border-[var(--border-color)]",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"How AutoUp Works"}),r.jsxs("ol",{className:"space-y-3 text-[var(--text-muted)] list-decimal list-inside marker:text-cyan-500",children:[r.jsxs("li",{children:["A user sends ",r.jsx("code",{className:"bg-[#020617] px-1 py-0.5 rounded text-cyan-400",children:"/start"})," to your Telegram bot."]}),r.jsx("li",{children:"Your bot sends the user ID to the AutoUp API."}),r.jsx("li",{children:"Backend verifying ownership using your Connection Key."}),r.jsx("li",{children:"User ID is stored under the correct bot automatically."}),r.jsx("li",{children:"Broadcast system detects the new user instantly."})]})]}),r.jsxs("div",{className:"card bg-[var(--bg-surface)] border-[var(--border-color)] space-y-6",children:[r.jsx("h2",{className:"text-xl font-bold",children:"API Usage"}),r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-green-500/10 text-green-500 px-2 py-1 rounded text-xs font-bold",children:"POST"}),r.jsxs("code",{className:"bg-[var(--bg-app)] px-3 py-1 rounded text-sm flex-1",children:[me,"/autoup"]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-sm mb-2 text-[var(--text-muted)]",children:"Headers"}),r.jsx("pre",{className:"bg-[var(--bg-app)] p-4 rounded-lg border border-[var(--border-color)] text-xs font-mono text-[var(--primary-color)] overflow-x-auto",children:`X-CONNECTION-KEY: ${e||"YOUR_KEY"}\nContent-Type: application/json`})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-sm mb-2 text-[var(--text-muted)]",children:"Body"}),r.jsx("pre",{className:"bg-[var(--bg-app)] p-4 rounded-lg border border-[var(--border-color)] text-xs font-mono text-[var(--primary-color)] overflow-x-auto",children:'{\n  "bot_username": "@yourbot",\n  "user_id": 123456789\n}'})]})]})]}),r.jsxs("div",{className:"card bg-[var(--bg-surface)] border-[var(--border-color)]",children:[r.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[r.jsx(W,{size:20,className:"text-cyan-400"}),"Example (Python)"]}),r.jsx("pre",{className:"bg-[var(--bg-app)] p-4 rounded-lg border border-[var(--border-color)] text-sm font-mono text-[var(--text-secondary)] overflow-x-auto",children:`import requests\n\ndef update_user(user_id, bot_username):\n    requests.post(\n        "${me}/autoup",\n        headers={\n            "X-CONNECTION-KEY": "${e||"YOUR_KEY"}"\n        },\n        json={\n            "bot_username": bot_username,\n            "user_id": user_id\n        }\n    )\n\n# Call 'update_user' inside your /start command handler`})]})]})}function ue(){const{plan:e,refresh:s}=ne(),[a,l]=t.useState(""),[o,i]=t.useState(!1),[n,c]=t.useState(null),[d,m]=t.useState(null),p="premium"===e.type,u=[{id:"1m",title:"Starter",price:"â‚¹79",duration:"1 Month",features:["Unlimited Bots","Unlimited Users","Priority Support"],highlight:!1},{id:"1y",title:"Best Value",price:"â‚¹559",duration:"1 Year",features:["Unlimited Bots","Unlimited Users","Priority Support","Save 40%"],highlight:!0,color:"text-yellow-400"},{id:"3m",title:"Quarterly",price:"â‚¹160",duration:"3 Months",features:["Unlimited Bots","Unlimited Users","Priority Support"],highlight:!1}],h=async e=>{if(confirm(`Request the ${e} plan? Admin will contact you.`)){c(e),m(null);try{await X.post("/request-premium",{package:e}),m({type:"success",message:"Request sent! Check your Telegram/Email."})}catch(t){const e=t;m({type:"error",message:e.response?.data?.error||"Error requesting plan"})}finally{c(null)}}};return r.jsxs("div",{className:"container max-w-5xl py-12 space-y-12",children:[r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx(x.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},className:"inline-block p-4 rounded-full bg-gradient-to-br from-yellow-400/20 to-orange-500/20 border border-yellow-500/30 mb-4",children:r.jsx(V,{size:48,className:"text-yellow-400 drop-shadow-[0_0_15px_rgba(250,204,21,0.5)]"})}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-yellow-200 via-amber-400 to-yellow-600",children:"Unlock Full Power"}),r.jsx("p",{className:"text-xl text-[var(--text-muted)] max-w-2xl mx-auto",children:"Scale your operation with unlimited broadcasts, faster speeds, and priority support."})]}),d&&r.jsx(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"p-4 rounded-xl text-center font-bold border "+("success"===d.type?"bg-green-500/10 border-green-500/20 text-green-500":"bg-red-500/10 border-red-500/20 text-red-500"),children:d.message}),p?r.jsxs("div",{className:"bg-gradient-to-r from-yellow-500/10 to-orange-500/10 border border-yellow-500/30 rounded-2xl p-8 text-center relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:r.jsx(V,{size:120})}),r.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-2",children:"You are a Premium Member"}),r.jsx("p",{className:"text-[var(--text-muted)]",children:"Your plan is active and valid."}),e.expiry&&r.jsxs("p",{className:"text-sm mt-2 font-mono",children:["Expires: ",new Date(e.expiry).toLocaleDateString()]})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 relative",children:[r.jsx(he,{plan:u[0],onRequest:h,loadingId:n}),r.jsx(he,{plan:u[1],onRequest:h,loadingId:n}),r.jsx(he,{plan:u[2],onRequest:h,loadingId:n})]}),r.jsx("div",{className:"max-w-md mx-auto",children:r.jsxs("div",{className:"card bg-[var(--bg-surface)] border-[var(--border-color)] p-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(H,{className:"text-[var(--primary-color)]"}),r.jsx("h3",{className:"text-lg font-bold",children:"Have a Promo Code?"})]}),r.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a){i(!0),m(null);try{await X.post("/redeem-code",{code:a.trim().toUpperCase()}),m({type:"success",message:"Premium activated! Redirecting..."}),l(""),s()}catch(t){const e=t;m({type:"error",message:e.response?.data?.error||"Invalid Code"})}finally{i(!1)}}},className:"flex gap-2",children:[r.jsx("input",{type:"text",id:"redeem-code",placeholder:"ENTER CODE",className:"input-field font-mono uppercase",value:a,onChange:e=>l(e.target.value)}),r.jsx("button",{type:"submit",disabled:o,className:"btn btn-primary min-w-[100px]",children:o?r.jsx(k,{className:"animate-spin mx-auto",size:18}):"Redeem"})]})]})})]})}function he({plan:e,onRequest:t,loadingId:s}){const a=e.highlight;return r.jsxs(x.div,{whileHover:{y:-5},className:"relative p-6 rounded-2xl border flex flex-col "+(a?"bg-[var(--bg-surface)] border-yellow-500/50 shadow-[0_0_20px_rgba(251,191,36,0.2)]":"bg-[var(--bg-surface)] border-[var(--border-color)]"),children:[r.jsx("h3",{className:"text-xl font-bold mb-2 "+(a?"text-yellow-400":""),children:e.title}),r.jsx("div",{className:"text-3xl font-bold mb-1",children:e.price}),r.jsx("div",{className:"text-[var(--text-muted)] text-sm font-bold uppercase tracking-wider mb-6",children:e.duration}),r.jsx("ul",{className:"space-y-3 mb-8 flex-1",children:e.features.map((e,t)=>r.jsxs("li",{className:"flex items-center gap-3 text-sm",children:[r.jsx(M,{size:16,className:a?"text-yellow-400":"text-[var(--primary-color)]"}),e]},t))}),r.jsx("button",{onClick:()=>t(e.id),disabled:null!==s,className:"btn w-full font-bold "+(a?"bg-gradient-to-r from-yellow-400 to-orange-500 text-black border-none hover:shadow-[0_0_20px_rgba(251,191,36,0.4)]":"bg-[var(--bg-app)] border border-[var(--border-color)] hover:border-[var(--primary-color)]"),children:s===e.id?r.jsx(k,{className:"animate-spin mx-auto"}):"Request Plan"})]})}function be(){return r.jsx($,{children:r.jsxs(ee,{children:[r.jsx(re,{}),r.jsx("div",{className:"pt-20",children:r.jsxs(K,{children:[r.jsx(G,{path:"/",element:r.jsx(oe,{})}),r.jsx(G,{path:"/login",element:r.jsx(ie,{})}),r.jsx(G,{path:"/dashboard",element:r.jsx(de,{})}),r.jsx(G,{path:"/autoup",element:r.jsx(pe,{})}),r.jsx(G,{path:"/premium",element:r.jsx(ue,{})})]})})]})})}J.createRoot(document.getElementById("root")).render(r.jsx(Q.StrictMode,{children:r.jsx(be,{})}));
